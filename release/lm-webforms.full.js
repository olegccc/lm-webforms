(function(){function a(a,b){if(a!==b){var c=null===a,d=a===v,e=a===a,f=null===b,g=b===v,h=b===b;if(a>b&&!f||!e||c&&!g&&h||d&&h)return 1;if(b>a&&!c||!h||f&&!d&&e||g&&e)return-1}return 0}function b(a,b,c){for(var d=a.length,e=c?d:-1;c?e--:++e<d;)if(b(a[e],e,a))return e;return-1}function c(a,b,c){if(b!==b)return m(a,c);for(var d=c-1,e=a.length;++d<e;)if(a[d]===b)return d;return-1}function d(a){return"function"==typeof a||!1}function e(a){return"string"==typeof a?a:null==a?"":a+""}function f(a,b){for(var c=-1,d=a.length;++c<d&&b.indexOf(a.charAt(c))>-1;);return c}function g(a,b){for(var c=a.length;c--&&b.indexOf(a.charAt(c))>-1;);return c}function h(b,c){return a(b.criteria,c.criteria)||b.index-c.index}function i(b,c,d){for(var e=-1,f=b.criteria,g=c.criteria,h=f.length,i=d.length;++e<h;){var j=a(f[e],g[e]);if(j)return e>=i?j:j*(d[e]?1:-1)}return b.index-c.index}function j(a){return Qa[a]}function k(a){return Ra[a]}function l(a){return"\\"+Ua[a]}function m(a,b,c){for(var d=a.length,e=b+(c?0:-1);c?e--:++e<d;){var f=a[e];if(f!==f)return e}return-1}function n(a){return!!a&&"object"==typeof a}function o(a){return 160>=a&&a>=9&&13>=a||32==a||160==a||5760==a||6158==a||a>=8192&&(8202>=a||8232==a||8233==a||8239==a||8287==a||12288==a||65279==a)}function p(a,b){for(var c=-1,d=a.length,e=-1,f=[];++c<d;)a[c]===b&&(a[c]=O,f[++e]=c);return f}function q(a,b){for(var c,d=-1,e=a.length,f=-1,g=[];++d<e;){var h=a[d],i=b?b(h,d,a):h;d&&c===i||(c=i,g[++f]=h)}return g}function r(a){for(var b=-1,c=a.length;++b<c&&o(a.charCodeAt(b)););return b}function s(a){for(var b=a.length;b--&&o(a.charCodeAt(b)););return b}function t(a){return Sa[a]}function u(o){function V(a){if(n(a)&&!Ah(a)&&!(a instanceof Qa)){if(a instanceof _)return a;if(Wf.call(a,"__chain__")&&Wf.call(a,"__wrapped__"))return id(a)}return new _(a)}function Z(){}function _(a,b,c){this.__wrapped__=a,this.__actions__=c||[],this.__chain__=!!b}function Qa(a){this.__wrapped__=a,this.__actions__=null,this.__dir__=1,this.__dropCount__=0,this.__filtered__=!1,this.__iteratees__=null,this.__takeCount__=yg,this.__views__=null}function Ra(){var a=this.__actions__,b=this.__iteratees__,c=this.__views__,d=new Qa(this.__wrapped__);return d.__actions__=a?cb(a):null,d.__dir__=this.__dir__,d.__filtered__=this.__filtered__,d.__iteratees__=b?cb(b):null,d.__takeCount__=this.__takeCount__,d.__views__=c?cb(c):null,d}function Sa(){if(this.__filtered__){var a=new Qa(this);a.__dir__=-1,a.__filtered__=!0}else a=this.clone(),a.__dir__*=-1;return a}function Ta(){var a=this.__wrapped__.value();if(!Ah(a))return bc(a,this.__actions__);var b=this.__dir__,c=0>b,d=Pc(0,a.length,this.__views__),e=d.start,f=d.end,g=f-e,h=c?f:e-1,i=sg(g,this.__takeCount__),j=this.__iteratees__,k=j?j.length:0,l=0,m=[];a:for(;g--&&i>l;){h+=b;for(var n=-1,o=a[h];++n<k;){var p=j[n],q=p.iteratee,r=p.type;if(r==K){if(p.done&&(c?h>p.index:h<p.index)&&(p.count=0,p.done=!1),p.index=h,!p.done){var s=p.limit;if(!(p.done=s>-1?p.count++>=s:!q(o)))continue a}}else{var t=q(o);if(r==M)o=t;else if(!t){if(r==L)continue a;break a}}}m[l++]=o}return m}function Ua(){this.__data__={}}function Va(a){return this.has(a)&&delete this.__data__[a]}function Wa(a){return"__proto__"==a?v:this.__data__[a]}function Xa(a){return"__proto__"!=a&&Wf.call(this.__data__,a)}function Ya(a,b){return"__proto__"!=a&&(this.__data__[a]=b),this}function Za(a){var b=a?a.length:0;for(this.data={hash:ng(null),set:new hg};b--;)this.push(a[b])}function $a(a,b){var c=a.data,d="string"==typeof b||Be(b)?c.set.has(b):c.hash[b];return d?0:-1}function bb(a){var b=this.data;"string"==typeof a||Be(a)?b.set.add(a):b.hash[a]=!0}function cb(a,b){var c=-1,d=a.length;for(b||(b=Hf(d));++c<d;)b[c]=a[c];return b}function db(a,b){for(var c=-1,d=a.length;++c<d&&b(a[c],c,a)!==!1;);return a}function eb(a,b){for(var c=a.length;c--&&b(a[c],c,a)!==!1;);return a}function fb(a,b){for(var c=-1,d=a.length;++c<d;)if(!b(a[c],c,a))return!1;return!0}function gb(a,b,c,d){for(var e=-1,f=a.length,g=d,h=g;++e<f;){var i=a[e],j=+b(i);c(j,g)&&(g=j,h=i)}return h}function hb(a,b){for(var c=-1,d=a.length,e=-1,f=[];++c<d;){var g=a[c];b(g,c,a)&&(f[++e]=g)}return f}function ib(a,b){for(var c=-1,d=a.length,e=Hf(d);++c<d;)e[c]=b(a[c],c,a);return e}function jb(a,b,c,d){var e=-1,f=a.length;for(d&&f&&(c=a[++e]);++e<f;)c=b(c,a[e],e,a);return c}function kb(a,b,c,d){var e=a.length;for(d&&e&&(c=a[--e]);e--;)c=b(c,a[e],e,a);return c}function lb(a,b){for(var c=-1,d=a.length;++c<d;)if(b(a[c],c,a))return!0;return!1}function mb(a){for(var b=a.length,c=0;b--;)c+=+a[b]||0;return c}function nb(a,b){return a===v?b:a}function ob(a,b,c,d){return a!==v&&Wf.call(d,c)?a:b}function pb(a,b,c){for(var d=-1,e=Mh(b),f=e.length;++d<f;){var g=e[d],h=a[g],i=c(h,b[g],g,a,b);(i===i?i===h:h!==h)&&(h!==v||g in a)||(a[g]=i)}return a}function qb(a,b){return null==b?a:sb(b,Mh(b),a)}function rb(a,b){for(var c=-1,d=null==a,e=!d&&Uc(a),f=e?a.length:0,g=b.length,h=Hf(g);++c<g;){var i=b[c];e?h[c]=Vc(i,f)?a[i]:v:h[c]=d?v:a[i]}return h}function sb(a,b,c){c||(c={});for(var d=-1,e=b.length;++d<e;){var f=b[d];c[f]=a[f]}return c}function tb(a,b,c){var d=typeof a;return"function"==d?b===v?a:ec(a,b,c):null==a?uf:"object"==d?Mb(a):b===v?Af(a):Nb(a,b)}function ub(a,b,c,d,e,f,g){var h;if(c&&(h=e?c(a,d,e):c(a)),h!==v)return h;if(!Be(a))return a;var i=Ah(a);if(i){if(h=Qc(a),!b)return cb(a,h)}else{var j=Yf.call(a),k=j==U;if(j!=X&&j!=P&&(!k||e))return Oa[j]?Sc(a,j,b):e?a:{};if(h=Rc(k?{}:a),!b)return qb(h,a)}f||(f=[]),g||(g=[]);for(var l=f.length;l--;)if(f[l]==a)return g[l];return f.push(a),g.push(h),(i?db:Eb)(a,function(d,e){h[e]=ub(d,b,c,e,a,f,g)}),h}function vb(a,b,c){if("function"!=typeof a)throw new Qf(N);return ig(function(){a.apply(v,c)},b)}function wb(a,b){var d=a?a.length:0,e=[];if(!d)return e;var f=-1,g=Mc(),h=g==c,i=h&&b.length>=200?Ng(b):null,j=b.length;i&&(g=$a,h=!1,b=i);a:for(;++f<d;){var k=a[f];if(h&&k===k){for(var l=j;l--;)if(b[l]===k)continue a;e.push(k)}else g(b,k,0)<0&&e.push(k)}return e}function xb(a,b){var c=!0;return Ig(a,function(a,d,e){return c=!!b(a,d,e)}),c}function yb(a,b,c,d){var e=d,f=e;return Ig(a,function(a,g,h){var i=+b(a,g,h);(c(i,e)||i===d&&i===f)&&(e=i,f=a)}),f}function zb(a,b,c,d){var e=a.length;for(c=null==c?0:+c||0,0>c&&(c=-c>e?0:e+c),d=d===v||d>e?e:+d||0,0>d&&(d+=e),e=c>d?0:d>>>0,c>>>=0;e>c;)a[c++]=b;return a}function Ab(a,b){var c=[];return Ig(a,function(a,d,e){b(a,d,e)&&c.push(a)}),c}function Bb(a,b,c,d){var e;return c(a,function(a,c,f){return b(a,c,f)?(e=d?c:a,!1):void 0}),e}function Cb(a,b,c){for(var d=-1,e=a.length,f=-1,g=[];++d<e;){var h=a[d];if(n(h)&&Uc(h)&&(c||Ah(h)||ue(h))){b&&(h=Cb(h,b,c));for(var i=-1,j=h.length;++i<j;)g[++f]=h[i]}else c||(g[++f]=h)}return g}function Db(a,b){return Kg(a,b,Ue)}function Eb(a,b){return Kg(a,b,Mh)}function Fb(a,b){return Lg(a,b,Mh)}function Gb(a,b){for(var c=-1,d=b.length,e=-1,f=[];++c<d;){var g=b[c];Ch(a[g])&&(f[++e]=g)}return f}function Hb(a,b,c){if(null!=a){c!==v&&c in gd(a)&&(b=[c]);for(var d=0,e=b.length;null!=a&&e>d;)a=a[b[d++]];return d&&d==e?a:v}}function Ib(a,b,c,d,e,f){return a===b?!0:null==a||null==b||!Be(a)&&!n(b)?a!==a&&b!==b:Jb(a,b,Ib,c,d,e,f)}function Jb(a,b,c,d,e,f,g){var h=Ah(a),i=Ah(b),j=Q,k=Q;h||(j=Yf.call(a),j==P?j=X:j!=X&&(h=Je(a))),i||(k=Yf.call(b),k==P?k=X:k!=X&&(i=Je(b)));var l=j==X,m=k==X,n=j==k;if(n&&!h&&!l)return Ic(a,b,j);if(!e){var o=l&&Wf.call(a,"__wrapped__"),p=m&&Wf.call(b,"__wrapped__");if(o||p)return c(o?a.value():a,p?b.value():b,d,e,f,g)}if(!n)return!1;f||(f=[]),g||(g=[]);for(var q=f.length;q--;)if(f[q]==a)return g[q]==b;f.push(a),g.push(b);var r=(h?Hc:Jc)(a,b,c,d,e,f,g);return f.pop(),g.pop(),r}function Kb(a,b,c){var d=b.length,e=d,f=!c;if(null==a)return!e;for(a=gd(a);d--;){var g=b[d];if(f&&g[2]?g[1]!==a[g[0]]:!(g[0]in a))return!1}for(;++d<e;){g=b[d];var h=g[0],i=a[h],j=g[1];if(f&&g[2]){if(i===v&&!(h in a))return!1}else{var k=c?c(i,j,h):v;if(!(k===v?Ib(j,i,c,!0):k))return!1}}return!0}function Lb(a,b){var c=-1,d=Uc(a)?Hf(a.length):[];return Ig(a,function(a,e,f){d[++c]=b(a,e,f)}),d}function Mb(a){var b=Nc(a);if(1==b.length&&b[0][2]){var c=b[0][0],d=b[0][1];return function(a){return null==a?!1:a[c]===d&&(d!==v||c in gd(a))}}return function(a){return Kb(a,b)}}function Nb(a,b){var c=Ah(a),d=Xc(a)&&$c(b),e=a+"";return a=hd(a),function(f){if(null==f)return!1;var g=e;if(f=gd(f),!(!c&&d||g in f)){if(f=1==a.length?f:Hb(f,Vb(a,0,-1)),null==f)return!1;g=vd(a),f=gd(f)}return f[g]===b?b!==v||g in f:Ib(b,f[g],v,!0)}}function Ob(a,b,c,d,e){if(!Be(a))return a;var f=Uc(b)&&(Ah(b)||Je(b)),g=f?null:Mh(b);return db(g||b,function(h,i){if(g&&(i=h,h=b[i]),n(h))d||(d=[]),e||(e=[]),Pb(a,b,i,Ob,c,d,e);else{var j=a[i],k=c?c(j,h,i,a,b):v,l=k===v;l&&(k=h),k===v&&(!f||i in a)||!l&&(k===k?k===j:j!==j)||(a[i]=k)}}),a}function Pb(a,b,c,d,e,f,g){for(var h=f.length,i=b[c];h--;)if(f[h]==i)return void(a[c]=g[h]);var j=a[c],k=e?e(j,i,c,a,b):v,l=k===v;l&&(k=i,Uc(i)&&(Ah(i)||Je(i))?k=Ah(j)?j:Uc(j)?cb(j):[]:Dh(i)||ue(i)?k=ue(j)?Oe(j):Dh(j)?j:{}:l=!1),f.push(i),g.push(k),l?a[c]=d(k,i,e,f,g):(k===k?k!==j:j===j)&&(a[c]=k)}function Qb(a){return function(b){return null==b?v:b[a]}}function Rb(a){var b=a+"";return a=hd(a),function(c){return Hb(c,a,b)}}function Sb(a,b){for(var c=a?b.length:0;c--;){var d=b[c];if(d!=e&&Vc(d)){var e=d;jg.call(a,d,1)}}return a}function Tb(a,b){return a+dg(wg()*(b-a+1))}function Ub(a,b,c,d,e){return e(a,function(a,e,f){c=d?(d=!1,a):b(c,a,e,f)}),c}function Vb(a,b,c){var d=-1,e=a.length;b=null==b?0:+b||0,0>b&&(b=-b>e?0:e+b),c=c===v||c>e?e:+c||0,0>c&&(c+=e),e=b>c?0:c-b>>>0,b>>>=0;for(var f=Hf(e);++d<e;)f[d]=a[d+b];return f}function Wb(a,b){var c;return Ig(a,function(a,d,e){return c=b(a,d,e),!c}),!!c}function Xb(a,b){var c=a.length;for(a.sort(b);c--;)a[c]=a[c].value;return a}function Yb(a,b,c){var d=Kc(),e=-1;b=ib(b,function(a){return d(a)});var f=Lb(a,function(a){var c=ib(b,function(b){return b(a)});return{criteria:c,index:++e,value:a}});return Xb(f,function(a,b){return i(a,b,c)})}function Zb(a,b){var c=0;return Ig(a,function(a,d,e){c+=+b(a,d,e)||0}),c}function $b(a,b){var d=-1,e=Mc(),f=a.length,g=e==c,h=g&&f>=200,i=h?Ng():null,j=[];i?(e=$a,g=!1):(h=!1,i=b?[]:j);a:for(;++d<f;){var k=a[d],l=b?b(k,d,a):k;if(g&&k===k){for(var m=i.length;m--;)if(i[m]===l)continue a;b&&i.push(l),j.push(k)}else e(i,l,0)<0&&((b||h)&&i.push(l),j.push(k))}return j}function _b(a,b){for(var c=-1,d=b.length,e=Hf(d);++c<d;)e[c]=a[b[c]];return e}function ac(a,b,c,d){for(var e=a.length,f=d?e:-1;(d?f--:++f<e)&&b(a[f],f,a););return c?Vb(a,d?0:f,d?f+1:e):Vb(a,d?f+1:0,d?e:f)}function bc(a,b){var c=a;c instanceof Qa&&(c=c.value());for(var d=-1,e=b.length;++d<e;){var f=[c],g=b[d];gg.apply(f,g.args),c=g.func.apply(g.thisArg,f)}return c}function cc(a,b,c){var d=0,e=a?a.length:d;if("number"==typeof b&&b===b&&Bg>=e){for(;e>d;){var f=d+e>>>1,g=a[f];(c?b>=g:b>g)&&null!==g?d=f+1:e=f}return e}return dc(a,b,uf,c)}function dc(a,b,c,d){b=c(b);for(var e=0,f=a?a.length:0,g=b!==b,h=null===b,i=b===v;f>e;){var j=dg((e+f)/2),k=c(a[j]),l=k!==v,m=k===k;if(g)var n=m||d;else n=h?m&&l&&(d||null!=k):i?m&&(d||l):null==k?!1:d?b>=k:b>k;n?e=j+1:f=j}return sg(f,Ag)}function ec(a,b,c){if("function"!=typeof a)return uf;if(b===v)return a;switch(c){case 1:return function(c){return a.call(b,c)};case 3:return function(c,d,e){return a.call(b,c,d,e)};case 4:return function(c,d,e,f){return a.call(b,c,d,e,f)};case 5:return function(c,d,e,f,g){return a.call(b,c,d,e,f,g)}}return function(){return a.apply(b,arguments)}}function fc(a){return ag.call(a,0)}function gc(a,b,c){for(var d=c.length,e=-1,f=rg(a.length-d,0),g=-1,h=b.length,i=Hf(f+h);++g<h;)i[g]=b[g];for(;++e<d;)i[c[e]]=a[e];for(;f--;)i[g++]=a[e++];return i}function hc(a,b,c){for(var d=-1,e=c.length,f=-1,g=rg(a.length-e,0),h=-1,i=b.length,j=Hf(g+i);++f<g;)j[f]=a[f];for(var k=f;++h<i;)j[k+h]=b[h];for(;++d<e;)j[k+c[d]]=a[f++];return j}function ic(a,b){return function(c,d,e){var f=b?b():{};if(d=Kc(d,e,3),Ah(c))for(var g=-1,h=c.length;++g<h;){var i=c[g];a(f,i,d(i,g,c),c)}else Ig(c,function(b,c,e){a(f,b,d(b,c,e),e)});return f}}function jc(a){return me(function(b,c){var d=-1,e=null==b?0:c.length,f=e>2?c[e-2]:v,g=e>2?c[2]:v,h=e>1?c[e-1]:v;for("function"==typeof f?(f=ec(f,h,5),e-=2):(f="function"==typeof h?h:v,e-=f?1:0),g&&Wc(c[0],c[1],g)&&(f=3>e?v:f,e=1);++d<e;){var i=c[d];i&&a(b,i,f)}return b})}function kc(a,b){return function(c,d){var e=c?Pg(c):0;if(!Zc(e))return a(c,d);for(var f=b?e:-1,g=gd(c);(b?f--:++f<e)&&d(g[f],f,g)!==!1;);return c}}function lc(a){return function(b,c,d){for(var e=gd(b),f=d(b),g=f.length,h=a?g:-1;a?h--:++h<g;){var i=f[h];if(c(e[i],i,e)===!1)break}return b}}function mc(a,b){function c(){var e=this&&this!==_a&&this instanceof c?d:a;return e.apply(b,arguments)}var d=oc(a);return c}function nc(a){return function(b){for(var c=-1,d=rf(cf(b)),e=d.length,f="";++c<e;)f=a(f,d[c],c);return f}}function oc(a){return function(){var b=arguments;switch(b.length){case 0:return new a;case 1:return new a(b[0]);case 2:return new a(b[0],b[1]);case 3:return new a(b[0],b[1],b[2]);case 4:return new a(b[0],b[1],b[2],b[3]);case 5:return new a(b[0],b[1],b[2],b[3],b[4])}var c=Hg(a.prototype),d=a.apply(c,b);return Be(d)?d:c}}function pc(a){function b(c,d,e){e&&Wc(c,d,e)&&(d=null);var f=Gc(c,a,null,null,null,null,null,d);return f.placeholder=b.placeholder,f}return b}function qc(a,b){return function(c,d,e){if(e&&Wc(c,d,e)&&(d=null),d=Kc(d,e,3),1==d.length){c=fd(c);var f=gb(c,d,a,b);if(!c.length||f!==b)return f}return yb(c,d,a,b)}}function rc(a,c){return function(d,e,f){if(e=Kc(e,f,3),Ah(d)){var g=b(d,e,c);return g>-1?d[g]:v}return Bb(d,e,a)}}function sc(a){return function(c,d,e){return c&&c.length?(d=Kc(d,e,3),b(c,d,a)):-1}}function tc(a){return function(b,c,d){return c=Kc(c,d,3),Bb(b,c,a,!0)}}function uc(a){return function(){for(var b,c=arguments.length,d=a?c:-1,e=0,f=Hf(c);a?d--:++d<c;){var g=f[e++]=arguments[d];if("function"!=typeof g)throw new Qf(N);!b&&_.prototype.thru&&"wrapper"==Lc(g)&&(b=new _([]))}for(d=b?-1:c;++d<c;){g=f[d];var h=Lc(g),i="wrapper"==h?Og(g):null;b=i&&Yc(i[0])&&i[1]==(E|A|C|F)&&!i[4].length&&1==i[9]?b[Lc(i[0])].apply(b,i[3]):1==g.length&&Yc(g)?b[h]():b.thru(g)}return function(){var a=arguments;if(b&&1==a.length&&Ah(a[0]))return b.plant(a[0]).value();for(var d=0,e=c?f[d].apply(this,a):a[0];++d<c;)e=f[d].call(this,e);return e}}}function vc(a,b){return function(c,d,e){return"function"==typeof d&&e===v&&Ah(c)?a(c,d):b(c,ec(d,e,3))}}function wc(a){return function(b,c,d){return("function"!=typeof c||d!==v)&&(c=ec(c,d,3)),a(b,c,Ue)}}function xc(a){return function(b,c,d){return("function"!=typeof c||d!==v)&&(c=ec(c,d,3)),a(b,c)}}function yc(a){return function(b,c,d){var e={};return c=Kc(c,d,3),Eb(b,function(b,d,f){var g=c(b,d,f);d=a?g:d,b=a?b:g,e[d]=b}),e}}function zc(a){return function(b,c,d){return b=e(b),(a?b:"")+Dc(b,c,d)+(a?"":b)}}function Ac(a){var b=me(function(c,d){var e=p(d,b.placeholder);return Gc(c,a,null,d,e)});return b}function Bc(a,b){return function(c,d,e,f){var g=arguments.length<3;return"function"==typeof d&&f===v&&Ah(c)?a(c,d,e,g):Ub(c,Kc(d,f,4),e,g,b)}}function Cc(a,b,c,d,e,f,g,h,i,j){function k(){for(var t=arguments.length,u=t,w=Hf(t);u--;)w[u]=arguments[u];if(d&&(w=gc(w,d,e)),f&&(w=hc(w,f,g)),o||r){var z=k.placeholder,A=p(w,z);if(t-=A.length,j>t){var B=h?cb(h):null,E=rg(j-t,0),F=o?A:null,G=o?null:A,H=o?w:null,I=o?null:w;b|=o?C:D,b&=~(o?D:C),q||(b&=~(x|y));var J=[a,b,c,H,F,I,G,B,i,E],K=Cc.apply(v,J);return Yc(a)&&Qg(K,J),K.placeholder=z,K}}var L=m?c:this,M=n?L[a]:a;return h&&(w=cd(w,h)),l&&i<w.length&&(w.length=i),this&&this!==_a&&this instanceof k&&(M=s||oc(a)),M.apply(L,w)}var l=b&E,m=b&x,n=b&y,o=b&A,q=b&z,r=b&B,s=n?null:oc(a);return k}function Dc(a,b,c){var d=a.length;if(b=+b,d>=b||!pg(b))return"";var e=b-d;return c=null==c?" ":c+"",jf(c,bg(e/c.length)).slice(0,e)}function Ec(a,b,c,d){function e(){for(var b=-1,h=arguments.length,i=-1,j=d.length,k=Hf(h+j);++i<j;)k[i]=d[i];for(;h--;)k[i++]=arguments[++b];var l=this&&this!==_a&&this instanceof e?g:a;return l.apply(f?c:this,k)}var f=b&x,g=oc(a);return e}function Fc(a){return function(b,c,d,e){var f=Kc(d);return null==d&&f===tb?cc(b,c,a):dc(b,c,f(d,e,1),a)}}function Gc(a,b,c,d,e,f,g,h){var i=b&y;if(!i&&"function"!=typeof a)throw new Qf(N);var j=d?d.length:0;if(j||(b&=~(C|D),d=e=null),j-=e?e.length:0,b&D){var k=d,l=e;d=e=null}var m=i?null:Og(a),n=[a,b,c,d,e,k,l,f,g,h];if(m&&(_c(n,m),b=n[1],h=n[9]),n[9]=null==h?i?0:a.length:rg(h-j,0)||0,b==x)var o=mc(n[0],n[2]);else o=b!=C&&b!=(x|C)||n[4].length?Cc.apply(v,n):Ec.apply(v,n);var p=m?Mg:Qg;return p(o,n)}function Hc(a,b,c,d,e,f,g){var h=-1,i=a.length,j=b.length;if(i!=j&&!(e&&j>i))return!1;for(;++h<i;){var k=a[h],l=b[h],m=d?d(e?l:k,e?k:l,h):v;if(m!==v){if(m)continue;return!1}if(e){if(!lb(b,function(a){return k===a||c(k,a,d,e,f,g)}))return!1}else if(k!==l&&!c(k,l,d,e,f,g))return!1}return!0}function Ic(a,b,c){switch(c){case R:case S:return+a==+b;case T:return a.name==b.name&&a.message==b.message;case W:return a!=+a?b!=+b:a==+b;case Y:case $:return a==b+""}return!1}function Jc(a,b,c,d,e,f,g){var h=Mh(a),i=h.length,j=Mh(b),k=j.length;if(i!=k&&!e)return!1;for(var l=i;l--;){var m=h[l];if(!(e?m in b:Wf.call(b,m)))return!1}for(var n=e;++l<i;){m=h[l];var o=a[m],p=b[m],q=d?d(e?p:o,e?o:p,m):v;if(!(q===v?c(o,p,d,e,f,g):q))return!1;n||(n="constructor"==m)}if(!n){var r=a.constructor,s=b.constructor;if(r!=s&&"constructor"in a&&"constructor"in b&&!("function"==typeof r&&r instanceof r&&"function"==typeof s&&s instanceof s))return!1}return!0}function Kc(a,b,c){var d=V.callback||sf;return d=d===sf?tb:d,c?d(a,b,c):d}function Lc(a){for(var b=a.name,c=Fg[b],d=c?c.length:0;d--;){var e=c[d],f=e.func;if(null==f||f==a)return e.name}return b}function Mc(a,b,d){var e=V.indexOf||td;return e=e===td?c:e,a?e(a,b,d):e}function Nc(a){for(var b=Ve(a),c=b.length;c--;)b[c][2]=$c(b[c][1]);return b}function Oc(a,b){var c=null==a?v:a[b];return Ee(c)?c:v}function Pc(a,b,c){for(var d=-1,e=c?c.length:0;++d<e;){var f=c[d],g=f.size;switch(f.type){case"drop":a+=g;break;case"dropRight":b-=g;break;case"take":b=sg(b,a+g);break;case"takeRight":a=rg(a,b-g)}}return{start:a,end:b}}function Qc(a){var b=a.length,c=new a.constructor(b);return b&&"string"==typeof a[0]&&Wf.call(a,"index")&&(c.index=a.index,c.input=a.input),c}function Rc(a){var b=a.constructor;return"function"==typeof b&&b instanceof b||(b=Nf),new b}function Sc(a,b,c){var d=a.constructor;switch(b){case aa:return fc(a);case R:case S:return new d(+a);case ba:case ca:case da:case ea:case fa:case ga:case ha:case ia:case ja:var e=a.buffer;return new d(c?fc(e):e,a.byteOffset,a.length);case W:case $:return new d(a);case Y:var f=new d(a.source,Ca.exec(a));f.lastIndex=a.lastIndex}return f}function Tc(a,b,c){null==a||Xc(b,a)||(b=hd(b),a=1==b.length?a:Hb(a,Vb(b,0,-1)),b=vd(b));var d=null==a?a:a[b];return null==d?v:d.apply(a,c)}function Uc(a){return null!=a&&Zc(Pg(a))}function Vc(a,b){return a="number"==typeof a||Fa.test(a)?+a:-1,b=null==b?Dg:b,a>-1&&a%1==0&&b>a}function Wc(a,b,c){if(!Be(c))return!1;var d=typeof b;if("number"==d?Uc(c)&&Vc(b,c.length):"string"==d&&b in c){var e=c[b];return a===a?a===e:e!==e}return!1}function Xc(a,b){var c=typeof a;if("string"==c&&va.test(a)||"number"==c)return!0;if(Ah(a))return!1;var d=!ua.test(a);return d||null!=b&&a in gd(b)}function Yc(a){var b=Lc(a);if(!(b in Qa.prototype))return!1;var c=V[b];if(a===c)return!0;var d=Og(c);return!!d&&a===d[0]}function Zc(a){return"number"==typeof a&&a>-1&&a%1==0&&Dg>=a}function $c(a){return a===a&&!Be(a)}function _c(a,b){var c=a[1],d=b[1],e=c|d,f=E>e,g=d==E&&c==A||d==E&&c==F&&a[7].length<=b[8]||d==(E|F)&&c==A;if(!f&&!g)return a;d&x&&(a[2]=b[2],e|=c&x?0:z);var h=b[3];if(h){var i=a[3];a[3]=i?gc(i,h,b[4]):cb(h),a[4]=i?p(a[3],O):cb(b[4])}return h=b[5],h&&(i=a[5],a[5]=i?hc(i,h,b[6]):cb(h),a[6]=i?p(a[5],O):cb(b[6])),h=b[7],h&&(a[7]=cb(h)),d&E&&(a[8]=null==a[8]?b[8]:sg(a[8],b[8])),null==a[9]&&(a[9]=b[9]),a[0]=b[0],a[1]=e,a}function ad(a,b){a=gd(a);for(var c=-1,d=b.length,e={};++c<d;){var f=b[c];f in a&&(e[f]=a[f])}return e}function bd(a,b){var c={};return Db(a,function(a,d,e){b(a,d,e)&&(c[d]=a)}),c}function cd(a,b){for(var c=a.length,d=sg(b.length,c),e=cb(a);d--;){var f=b[d];a[d]=Vc(f,c)?e[f]:v}return a}function dd(a){var b;V.support;if(!n(a)||Yf.call(a)!=X||!Wf.call(a,"constructor")&&(b=a.constructor,"function"==typeof b&&!(b instanceof b)))return!1;var c;return Db(a,function(a,b){c=b}),c===v||Wf.call(a,c)}function ed(a){for(var b=Ue(a),c=b.length,d=c&&a.length,e=!!d&&Zc(d)&&(Ah(a)||ue(a)),f=-1,g=[];++f<c;){var h=b[f];(e&&Vc(h,d)||Wf.call(a,h))&&g.push(h)}return g}function fd(a){return null==a?[]:Uc(a)?Be(a)?a:Nf(a):Ze(a)}function gd(a){return Be(a)?a:Nf(a)}function hd(a){if(Ah(a))return a;var b=[];return e(a).replace(wa,function(a,c,d,e){b.push(d?e.replace(Aa,"$1"):c||a)}),b}function id(a){return a instanceof Qa?a.clone():new _(a.__wrapped__,a.__chain__,cb(a.__actions__))}function jd(a,b,c){b=(c?Wc(a,b,c):null==b)?1:rg(+b||1,1);for(var d=0,e=a?a.length:0,f=-1,g=Hf(bg(e/b));e>d;)g[++f]=Vb(a,d,d+=b);return g}function kd(a){for(var b=-1,c=a?a.length:0,d=-1,e=[];++b<c;){var f=a[b];f&&(e[++d]=f)}return e}function ld(a,b,c){var d=a?a.length:0;return d?((c?Wc(a,b,c):null==b)&&(b=1),Vb(a,0>b?0:b)):[]}function md(a,b,c){var d=a?a.length:0;return d?((c?Wc(a,b,c):null==b)&&(b=1),b=d-(+b||0),Vb(a,0,0>b?0:b)):[]}function nd(a,b,c){return a&&a.length?ac(a,Kc(b,c,3),!0,!0):[]}function od(a,b,c){return a&&a.length?ac(a,Kc(b,c,3),!0):[]}function pd(a,b,c,d){var e=a?a.length:0;return e?(c&&"number"!=typeof c&&Wc(a,b,c)&&(c=0,d=e),zb(a,b,c,d)):[]}function qd(a){return a?a[0]:v}function rd(a,b,c){var d=a?a.length:0;return c&&Wc(a,b,c)&&(b=!1),d?Cb(a,b):[]}function sd(a){var b=a?a.length:0;return b?Cb(a,!0):[]}function td(a,b,d){var e=a?a.length:0;if(!e)return-1;if("number"==typeof d)d=0>d?rg(e+d,0):d;else if(d){var f=cc(a,b),g=a[f];return(b===b?b===g:g!==g)?f:-1}return c(a,b,d||0)}function ud(a){return md(a,1)}function vd(a){var b=a?a.length:0;return b?a[b-1]:v}function wd(a,b,c){var d=a?a.length:0;if(!d)return-1;var e=d;if("number"==typeof c)e=(0>c?rg(d+c,0):sg(c||0,d-1))+1;else if(c){e=cc(a,b,!0)-1;var f=a[e];return(b===b?b===f:f!==f)?e:-1}if(b!==b)return m(a,e,!0);for(;e--;)if(a[e]===b)return e;return-1}function xd(){var a=arguments,b=a[0];if(!b||!b.length)return b;for(var c=0,d=Mc(),e=a.length;++c<e;)for(var f=0,g=a[c];(f=d(b,g,f))>-1;)jg.call(b,f,1);return b}function yd(a,b,c){var d=[];if(!a||!a.length)return d;var e=-1,f=[],g=a.length;for(b=Kc(b,c,3);++e<g;){var h=a[e];b(h,e,a)&&(d.push(h),f.push(e))}return Sb(a,f),d}function zd(a){return ld(a,1)}function Ad(a,b,c){var d=a?a.length:0;return d?(c&&"number"!=typeof c&&Wc(a,b,c)&&(b=0,c=d),Vb(a,b,c)):[]}function Bd(a,b,c){var d=a?a.length:0;return d?((c?Wc(a,b,c):null==b)&&(b=1),Vb(a,0,0>b?0:b)):[]}function Cd(a,b,c){var d=a?a.length:0;return d?((c?Wc(a,b,c):null==b)&&(b=1),b=d-(+b||0),Vb(a,0>b?0:b)):[]}function Dd(a,b,c){return a&&a.length?ac(a,Kc(b,c,3),!1,!0):[]}function Ed(a,b,c){return a&&a.length?ac(a,Kc(b,c,3)):[]}function Fd(a,b,d,e){var f=a?a.length:0;if(!f)return[];null!=b&&"boolean"!=typeof b&&(e=d,d=Wc(a,b,e)?null:b,b=!1);var g=Kc();return(null!=d||g!==tb)&&(d=g(d,e,3)),b&&Mc()==c?q(a,d):$b(a,d)}function Gd(a){if(!a||!a.length)return[];var b=-1,c=0;a=hb(a,function(a){return Uc(a)?(c=rg(a.length,c),!0):void 0});for(var d=Hf(c);++b<c;)d[b]=ib(a,Qb(b));return d}function Hd(a,b,c){var d=a?a.length:0;if(!d)return[];var e=Gd(a);return null==b?e:(b=ec(b,c,4),ib(e,function(a){return jb(a,b,v,!0)}))}function Id(){for(var a=-1,b=arguments.length;++a<b;){var c=arguments[a];if(Uc(c))var d=d?wb(d,c).concat(wb(c,d)):c}return d?$b(d):[]}function Jd(a,b){var c=-1,d=a?a.length:0,e={};for(!d||b||Ah(a[0])||(b=[]);++c<d;){var f=a[c];b?e[f]=b[c]:f&&(e[f[0]]=f[1])}return e}function Kd(a){var b=V(a);return b.__chain__=!0,b}function Ld(a,b,c){return b.call(c,a),a}function Md(a,b,c){return b.call(c,a)}function Nd(){return Kd(this)}function Od(){return new _(this.value(),this.__chain__)}function Pd(a){for(var b,c=this;c instanceof Z;){var d=id(c);b?e.__wrapped__=d:b=d;var e=d;c=c.__wrapped__}return e.__wrapped__=a,b}function Qd(){var a=this.__wrapped__;return a instanceof Qa?(this.__actions__.length&&(a=new Qa(this)),new _(a.reverse(),this.__chain__)):this.thru(function(a){return a.reverse()})}function Rd(){return this.value()+""}function Sd(){return bc(this.__wrapped__,this.__actions__)}function Td(a,b,c){var d=Ah(a)?fb:xb;return c&&Wc(a,b,c)&&(b=null),("function"!=typeof b||c!==v)&&(b=Kc(b,c,3)),d(a,b)}function Ud(a,b,c){var d=Ah(a)?hb:Ab;return b=Kc(b,c,3),d(a,b)}function Vd(a,b){return ch(a,Mb(b))}function Wd(a,b,c,d){var e=a?Pg(a):0;return Zc(e)||(a=Ze(a),e=a.length),e?(c="number"!=typeof c||d&&Wc(b,c,d)?0:0>c?rg(e+c,0):c||0,"string"==typeof a||!Ah(a)&&Ie(a)?e>c&&a.indexOf(b,c)>-1:Mc(a,b,c)>-1):!1}function Xd(a,b,c){var d=Ah(a)?ib:Lb;return b=Kc(b,c,3),d(a,b)}function Yd(a,b){return Xd(a,Af(b))}function Zd(a,b,c){var d=Ah(a)?hb:Ab;return b=Kc(b,c,3),d(a,function(a,c,d){return!b(a,c,d)})}function $d(a,b,c){if(c?Wc(a,b,c):null==b){a=fd(a);var d=a.length;return d>0?a[Tb(0,d-1)]:v}var e=-1,f=Ne(a),d=f.length,g=d-1;for(b=sg(0>b?0:+b||0,d);++e<b;){var h=Tb(e,g),i=f[h];f[h]=f[e],f[e]=i}return f.length=b,f}function _d(a){return $d(a,yg)}function ae(a){var b=a?Pg(a):0;return Zc(b)?b:Mh(a).length}function be(a,b,c){var d=Ah(a)?lb:Wb;return c&&Wc(a,b,c)&&(b=null),("function"!=typeof b||c!==v)&&(b=Kc(b,c,3)),d(a,b)}function ce(a,b,c){if(null==a)return[];c&&Wc(a,b,c)&&(b=null);var d=-1;b=Kc(b,c,3);var e=Lb(a,function(a,c,e){return{criteria:b(a,c,e),index:++d,value:a}});return Xb(e,h)}function de(a,b,c,d){return null==a?[]:(d&&Wc(b,c,d)&&(c=null),Ah(b)||(b=null==b?[]:[b]),Ah(c)||(c=null==c?[]:[c]),Yb(a,b,c))}function ee(a,b){return Ud(a,Mb(b))}function fe(a,b){if("function"!=typeof b){if("function"!=typeof a)throw new Qf(N);var c=a;a=b,b=c}return a=pg(a=+a)?a:0,function(){return--a<1?b.apply(this,arguments):void 0}}function ge(a,b,c){return c&&Wc(a,b,c)&&(b=null),b=a&&null==b?a.length:rg(+b||0,0),Gc(a,E,null,null,null,null,b)}function he(a,b){var c;if("function"!=typeof b){if("function"!=typeof a)throw new Qf(N);var d=a;a=b,b=d}return function(){return--a>0&&(c=b.apply(this,arguments)),1>=a&&(b=null),c}}function ie(a,b,c){function d(){m&&cg(m),i&&cg(i),i=m=n=v}function e(){var c=b-(nh()-k);if(0>=c||c>b){i&&cg(i);var d=n;i=m=n=v,d&&(o=nh(),j=a.apply(l,h),m||i||(h=l=null))}else m=ig(e,c)}function f(){m&&cg(m),i=m=n=v,(q||p!==b)&&(o=nh(),j=a.apply(l,h),m||i||(h=l=null))}function g(){if(h=arguments,k=nh(),l=this,n=q&&(m||!r),p===!1)var c=r&&!m;else{i||r||(o=k);var d=p-(k-o),g=0>=d||d>p;g?(i&&(i=cg(i)),o=k,j=a.apply(l,h)):i||(i=ig(f,d))}return g&&m?m=cg(m):m||b===p||(m=ig(e,b)),c&&(g=!0,j=a.apply(l,h)),!g||m||i||(h=l=null),j}var h,i,j,k,l,m,n,o=0,p=!1,q=!0;if("function"!=typeof a)throw new Qf(N);if(b=0>b?0:+b||0,c===!0){var r=!0;q=!1}else Be(c)&&(r=c.leading,p="maxWait"in c&&rg(+c.maxWait||0,b),q="trailing"in c?c.trailing:q);return g.cancel=d,g}function je(a,b){if("function"!=typeof a||b&&"function"!=typeof b)throw new Qf(N);var c=function(){var d=arguments,e=b?b.apply(this,d):d[0],f=c.cache;if(f.has(e))return f.get(e);var g=a.apply(this,d);return c.cache=f.set(e,g),g};return c.cache=new je.Cache,c}function ke(a){if("function"!=typeof a)throw new Qf(N);return function(){return!a.apply(this,arguments)}}function le(a){return he(2,a)}function me(a,b){if("function"!=typeof a)throw new Qf(N);return b=rg(b===v?a.length-1:+b||0,0),function(){for(var c=arguments,d=-1,e=rg(c.length-b,0),f=Hf(e);++d<e;)f[d]=c[b+d];switch(b){case 0:return a.call(this,f);case 1:return a.call(this,c[0],f);case 2:return a.call(this,c[0],c[1],f)}var g=Hf(b+1);for(d=-1;++d<b;)g[d]=c[d];return g[b]=f,a.apply(this,g)}}function ne(a){if("function"!=typeof a)throw new Qf(N);return function(b){return a.apply(this,b)}}function oe(a,b,c){var d=!0,e=!0;if("function"!=typeof a)throw new Qf(N);return c===!1?d=!1:Be(c)&&(d="leading"in c?!!c.leading:d,e="trailing"in c?!!c.trailing:e),Pa.leading=d,Pa.maxWait=+b,Pa.trailing=e,ie(a,b,Pa)}function pe(a,b){return b=null==b?uf:b,Gc(b,C,null,[a],[])}function qe(a,b,c,d){return b&&"boolean"!=typeof b&&Wc(a,b,c)?b=!1:"function"==typeof b&&(d=c,c=b,b=!1),"function"==typeof c?ub(a,b,ec(c,d,1)):ub(a,b)}function re(a,b,c){return"function"==typeof b?ub(a,!0,ec(b,c,1)):ub(a,!0)}function se(a,b){return a>b}function te(a,b){return a>=b}function ue(a){return n(a)&&Uc(a)&&Yf.call(a)==P}function ve(a){return a===!0||a===!1||n(a)&&Yf.call(a)==R}function we(a){return n(a)&&Yf.call(a)==S}function xe(a){return!!a&&1===a.nodeType&&n(a)&&Yf.call(a).indexOf("Element")>-1}function ye(a){return null==a?!0:Uc(a)&&(Ah(a)||Ie(a)||ue(a)||n(a)&&Ch(a.splice))?!a.length:!Mh(a).length}function ze(a,b,c,d){c="function"==typeof c?ec(c,d,3):v;var e=c?c(a,b):v;return e===v?Ib(a,b,c):!!e}function Ae(a){return n(a)&&"string"==typeof a.message&&Yf.call(a)==T}function Be(a){var b=typeof a;return!!a&&("object"==b||"function"==b)}function Ce(a,b,c,d){return c="function"==typeof c?ec(c,d,3):v,Kb(a,Nc(b),c)}function De(a){return Ge(a)&&a!=+a}function Ee(a){return null==a?!1:Yf.call(a)==U?$f.test(Vf.call(a)):n(a)&&Ea.test(a)}function Fe(a){return null===a}function Ge(a){return"number"==typeof a||n(a)&&Yf.call(a)==W}function He(a){return n(a)&&Yf.call(a)==Y}function Ie(a){return"string"==typeof a||n(a)&&Yf.call(a)==$}function Je(a){return n(a)&&Zc(a.length)&&!!Na[Yf.call(a)]}function Ke(a){return a===v}function Le(a,b){return b>a}function Me(a,b){return b>=a}function Ne(a){var b=a?Pg(a):0;return Zc(b)?b?cb(a):[]:Ze(a)}function Oe(a){return sb(a,Ue(a))}function Pe(a,b,c){var d=Hg(a);return c&&Wc(a,b,c)&&(b=null),b?qb(d,b):d}function Qe(a){return Gb(a,Ue(a))}function Re(a,b,c){var d=null==a?v:Hb(a,hd(b),b+"");return d===v?c:d}function Se(a,b){if(null==a)return!1;var c=Wf.call(a,b);if(!c&&!Xc(b)){if(b=hd(b),a=1==b.length?a:Hb(a,Vb(b,0,-1)),null==a)return!1;b=vd(b),c=Wf.call(a,b)}return c||Zc(a.length)&&Vc(b,a.length)&&(Ah(a)||ue(a))}function Te(a,b,c){c&&Wc(a,b,c)&&(b=null);for(var d=-1,e=Mh(a),f=e.length,g={};++d<f;){var h=e[d],i=a[h];b?Wf.call(g,i)?g[i].push(h):g[i]=[h]:g[i]=h}return g}function Ue(a){if(null==a)return[];Be(a)||(a=Nf(a));var b=a.length;b=b&&Zc(b)&&(Ah(a)||ue(a))&&b||0;for(var c=a.constructor,d=-1,e="function"==typeof c&&c.prototype===a,f=Hf(b),g=b>0;++d<b;)f[d]=d+"";for(var h in a)g&&Vc(h,b)||"constructor"==h&&(e||!Wf.call(a,h))||f.push(h);return f}function Ve(a){a=gd(a);for(var b=-1,c=Mh(a),d=c.length,e=Hf(d);++b<d;){var f=c[b];e[b]=[f,a[f]]}return e}function We(a,b,c){var d=null==a?v:a[b];return d===v&&(null==a||Xc(b,a)||(b=hd(b),a=1==b.length?a:Hb(a,Vb(b,0,-1)),d=null==a?v:a[vd(b)]),d=d===v?c:d),Ch(d)?d.call(a):d}function Xe(a,b,c){if(null==a)return a;var d=b+"";b=null!=a[d]||Xc(b,a)?[d]:hd(b);for(var e=-1,f=b.length,g=f-1,h=a;null!=h&&++e<f;){var i=b[e];Be(h)&&(e==g?h[i]=c:null==h[i]&&(h[i]=Vc(b[e+1])?[]:{})),h=h[i]}return a}function Ye(a,b,c,d){var e=Ah(a)||Je(a);if(b=Kc(b,d,4),null==c)if(e||Be(a)){var f=a.constructor;c=e?Ah(a)?new f:[]:Hg(Ch(f)?f.prototype:null)}else c={};return(e?db:Eb)(a,function(a,d,e){return b(c,a,d,e)}),c}function Ze(a){return _b(a,Mh(a))}function $e(a){return _b(a,Ue(a))}function _e(a,b,c){return b=+b||0,"undefined"==typeof c?(c=b,b=0):c=+c||0,a>=sg(b,c)&&a<rg(b,c)}function af(a,b,c){c&&Wc(a,b,c)&&(b=c=null);var d=null==a,e=null==b;if(null==c&&(e&&"boolean"==typeof a?(c=a,a=1):"boolean"==typeof b&&(c=b,e=!0)),d&&e&&(b=1,e=!1),a=+a||0,e?(b=a,a=0):b=+b||0,c||a%1||b%1){var f=wg();return sg(a+f*(b-a+fg("1e-"+((f+"").length-1))),b)}return Tb(a,b)}function bf(a){return a=e(a),a&&a.charAt(0).toUpperCase()+a.slice(1)}function cf(a){return a=e(a),a&&a.replace(Ga,j).replace(za,"")}function df(a,b,c){a=e(a),b+="";var d=a.length;return c=c===v?d:sg(0>c?0:+c||0,d),c-=b.length,c>=0&&a.indexOf(b,c)==c}function ef(a){return a=e(a),a&&qa.test(a)?a.replace(oa,k):a}function ff(a){return a=e(a),a&&ya.test(a)?a.replace(xa,"\\$&"):a}function gf(a,b,c){a=e(a),b=+b;var d=a.length;if(d>=b||!pg(b))return a;var f=(b-d)/2,g=dg(f),h=bg(f);return c=Dc("",h,c),c.slice(0,g)+a+c}function hf(a,b,c){return c&&Wc(a,b,c)&&(b=0),vg(a,b)}function jf(a,b){
var c="";if(a=e(a),b=+b,1>b||!a||!pg(b))return c;do b%2&&(c+=a),b=dg(b/2),a+=a;while(b);return c}function kf(a,b,c){return a=e(a),c=null==c?0:sg(0>c?0:+c||0,a.length),a.lastIndexOf(b,c)==c}function lf(a,b,c){var d=V.templateSettings;c&&Wc(a,b,c)&&(b=c=null),a=e(a),b=pb(qb({},c||b),d,ob);var f,g,h=pb(qb({},b.imports),d.imports,ob),i=Mh(h),j=_b(h,i),k=0,m=b.interpolate||Ha,n="__p += '",o=Of((b.escape||Ha).source+"|"+m.source+"|"+(m===ta?Ba:Ha).source+"|"+(b.evaluate||Ha).source+"|$","g"),p="//# sourceURL="+("sourceURL"in b?b.sourceURL:"lodash.templateSources["+ ++Ma+"]")+"\n";a.replace(o,function(b,c,d,e,h,i){return d||(d=e),n+=a.slice(k,i).replace(Ia,l),c&&(f=!0,n+="' +\n__e("+c+") +\n'"),h&&(g=!0,n+="';\n"+h+";\n__p += '"),d&&(n+="' +\n((__t = ("+d+")) == null ? '' : __t) +\n'"),k=i+b.length,b}),n+="';\n";var q=b.variable;q||(n="with (obj) {\n"+n+"\n}\n"),n=(g?n.replace(ka,""):n).replace(la,"$1").replace(ma,"$1;"),n="function("+(q||"obj")+") {\n"+(q?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(f?", __e = _.escape":"")+(g?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+n+"return __p\n}";var r=Yh(function(){return Kf(i,p+"return "+n).apply(v,j)});if(r.source=n,Ae(r))throw r;return r}function mf(a,b,c){var d=a;return(a=e(a))?(c?Wc(d,b,c):null==b)?a.slice(r(a),s(a)+1):(b+="",a.slice(f(a,b),g(a,b)+1)):a}function nf(a,b,c){var d=a;return a=e(a),a?(c?Wc(d,b,c):null==b)?a.slice(r(a)):a.slice(f(a,b+"")):a}function of(a,b,c){var d=a;return a=e(a),a?(c?Wc(d,b,c):null==b)?a.slice(0,s(a)+1):a.slice(0,g(a,b+"")+1):a}function pf(a,b,c){c&&Wc(a,b,c)&&(b=null);var d=G,f=H;if(null!=b)if(Be(b)){var g="separator"in b?b.separator:g;d="length"in b?+b.length||0:d,f="omission"in b?e(b.omission):f}else d=+b||0;if(a=e(a),d>=a.length)return a;var h=d-f.length;if(1>h)return f;var i=a.slice(0,h);if(null==g)return i+f;if(He(g)){if(a.slice(h).search(g)){var j,k,l=a.slice(0,h);for(g.global||(g=Of(g.source,(Ca.exec(g)||"")+"g")),g.lastIndex=0;j=g.exec(l);)k=j.index;i=i.slice(0,null==k?h:k)}}else if(a.indexOf(g,h)!=h){var m=i.lastIndexOf(g);m>-1&&(i=i.slice(0,m))}return i+f}function qf(a){return a=e(a),a&&pa.test(a)?a.replace(na,t):a}function rf(a,b,c){return c&&Wc(a,b,c)&&(b=null),a=e(a),a.match(b||Ja)||[]}function sf(a,b,c){return c&&Wc(a,b,c)&&(b=null),n(a)?vf(a):tb(a,b)}function tf(a){return function(){return a}}function uf(a){return a}function vf(a){return Mb(ub(a,!0))}function wf(a,b){return Nb(a,ub(b,!0))}function xf(a,b,c){if(null==c){var d=Be(b),e=d?Mh(b):null,f=e&&e.length?Gb(b,e):null;(f?f.length:d)||(f=!1,c=b,b=a,a=this)}f||(f=Gb(b,Mh(b)));var g=!0,h=-1,i=Ch(a),j=f.length;c===!1?g=!1:Be(c)&&"chain"in c&&(g=c.chain);for(;++h<j;){var k=f[h],l=b[k];a[k]=l,i&&(a.prototype[k]=function(b){return function(){var c=this.__chain__;if(g||c){var d=a(this.__wrapped__),e=d.__actions__=cb(this.__actions__);return e.push({func:b,args:arguments,thisArg:a}),d.__chain__=c,d}var f=[this.value()];return gg.apply(f,arguments),b.apply(a,f)}}(l))}return a}function yf(){return o._=Zf,this}function zf(){}function Af(a){return Xc(a)?Qb(a):Rb(a)}function Bf(a){return function(b){return Hb(a,hd(b),b+"")}}function Cf(a,b,c){c&&Wc(a,b,c)&&(b=c=null),a=+a||0,c=null==c?1:+c||0,null==b?(b=a,a=0):b=+b||0;for(var d=-1,e=rg(bg((b-a)/(c||1)),0),f=Hf(e);++d<e;)f[d]=a,a+=c;return f}function Df(a,b,c){if(a=dg(a),1>a||!pg(a))return[];var d=-1,e=Hf(sg(a,zg));for(b=ec(b,c,1);++d<a;)zg>d?e[d]=b(d):b(d);return e}function Ef(a){var b=++Xf;return e(a)+b}function Ff(a,b){return(+a||0)+(+b||0)}function Gf(a,b,c){c&&Wc(a,b,c)&&(b=null);var d=Kc(),e=null==b;return e&&d===tb||(e=!1,b=d(b,c,3)),e?mb(Ah(a)?a:fd(a)):Zb(a,b)}o=o?ab.defaults(_a.Object(),o,ab.pick(_a,La)):_a;var Hf=o.Array,If=o.Date,Jf=o.Error,Kf=o.Function,Lf=o.Math,Mf=o.Number,Nf=o.Object,Of=o.RegExp,Pf=o.String,Qf=o.TypeError,Rf=Hf.prototype,Sf=Nf.prototype,Tf=Pf.prototype,Uf=(Uf=o.window)?Uf.document:null,Vf=Kf.prototype.toString,Wf=Sf.hasOwnProperty,Xf=0,Yf=Sf.toString,Zf=o._,$f=Of("^"+ff(Vf.call(Wf)).replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),_f=Oc(o,"ArrayBuffer"),ag=Oc(_f&&new _f(0),"slice"),bg=Lf.ceil,cg=o.clearTimeout,dg=Lf.floor,eg=Oc(Nf,"getPrototypeOf"),fg=o.parseFloat,gg=Rf.push,hg=Oc(o,"Set"),ig=o.setTimeout,jg=Rf.splice,kg=Oc(o,"Uint8Array"),lg=Oc(o,"WeakMap"),mg=function(){try{var a=Oc(o,"Float64Array"),b=new a(new _f(10),0,1)&&a}catch(c){}return b||null}(),ng=Oc(Nf,"create"),og=Oc(Hf,"isArray"),pg=o.isFinite,qg=Oc(Nf,"keys"),rg=Lf.max,sg=Lf.min,tg=Oc(If,"now"),ug=Oc(Mf,"isFinite"),vg=o.parseInt,wg=Lf.random,xg=Mf.NEGATIVE_INFINITY,yg=Mf.POSITIVE_INFINITY,zg=4294967295,Ag=zg-1,Bg=zg>>>1,Cg=mg?mg.BYTES_PER_ELEMENT:0,Dg=9007199254740991,Eg=lg&&new lg,Fg={},Gg=V.support={};!function(a){var b=function(){this.x=a},c=[];b.prototype={valueOf:a,y:a};for(var d in new b)c.push(d);try{Gg.dom=11===Uf.createDocumentFragment().nodeType}catch(e){Gg.dom=!1}}(1,0),V.templateSettings={escape:ra,evaluate:sa,interpolate:ta,variable:"",imports:{_:V}};var Hg=function(){function a(){}return function(b){if(Be(b)){a.prototype=b;var c=new a;a.prototype=null}return c||{}}}(),Ig=kc(Eb),Jg=kc(Fb,!0),Kg=lc(),Lg=lc(!0),Mg=Eg?function(a,b){return Eg.set(a,b),a}:uf;ag||(fc=_f&&kg?function(a){var b=a.byteLength,c=mg?dg(b/Cg):0,d=c*Cg,e=new _f(b);if(c){var f=new mg(e,0,c);f.set(new mg(a,0,c))}return b!=d&&(f=new kg(e,d),f.set(new kg(a,d))),e}:tf(null));var Ng=ng&&hg?function(a){return new Za(a)}:tf(null),Og=Eg?function(a){return Eg.get(a)}:zf,Pg=Qb("length"),Qg=function(){var a=0,b=0;return function(c,d){var e=nh(),f=J-(e-b);if(b=e,f>0){if(++a>=I)return c}else a=0;return Mg(c,d)}}(),Rg=me(function(a,b){return Uc(a)?wb(a,Cb(b,!1,!0)):[]}),Sg=sc(),Tg=sc(!0),Ug=me(function(a){for(var b=a.length,d=b,e=Hf(l),f=Mc(),g=f==c,h=[];d--;){var i=a[d]=Uc(i=a[d])?i:[];e[d]=g&&i.length>=120?Ng(d&&i):null}var j=a[0],k=-1,l=j?j.length:0,m=e[0];a:for(;++k<l;)if(i=j[k],(m?$a(m,i):f(h,i,0))<0){for(var d=b;--d;){var n=e[d];if((n?$a(n,i):f(a[d],i,0))<0)continue a}m&&m.push(i),h.push(i)}return h}),Vg=me(function(b,c){c=Cb(c);var d=rb(b,c);return Sb(b,c.sort(a)),d}),Wg=Fc(),Xg=Fc(!0),Yg=me(function(a){return $b(Cb(a,!1,!0))}),Zg=me(function(a,b){return Uc(a)?wb(a,b):[]}),$g=me(Gd),_g=me(function(a){var b=a.length,c=b>2?a[b-2]:v,d=b>1?a[b-1]:v;return b>2&&"function"==typeof c?b-=2:(c=b>1&&"function"==typeof d?(--b,d):v,d=v),a.length=b,Hd(a,c,d)}),ah=me(function(a,b){return rb(a,Cb(b))}),bh=ic(function(a,b,c){Wf.call(a,c)?++a[c]:a[c]=1}),ch=rc(Ig),dh=rc(Jg,!0),eh=vc(db,Ig),fh=vc(eb,Jg),gh=ic(function(a,b,c){Wf.call(a,c)?a[c].push(b):a[c]=[b]}),hh=ic(function(a,b,c){a[c]=b}),ih=me(function(a,b,c){var d=-1,e="function"==typeof b,f=Xc(b),g=Uc(a)?Hf(a.length):[];return Ig(a,function(a){var h=e?b:f&&null!=a?a[b]:null;g[++d]=h?h.apply(a,c):Tc(a,b,c)}),g}),jh=ic(function(a,b,c){a[c?0:1].push(b)},function(){return[[],[]]}),kh=Bc(jb,Ig),lh=Bc(kb,Jg),mh=me(function(a,b){if(null==a)return[];var c=b[2];return c&&Wc(b[0],b[1],c)&&(b.length=1),Yb(a,Cb(b),[])}),nh=tg||function(){return(new If).getTime()},oh=me(function(a,b,c){var d=x;if(c.length){var e=p(c,oh.placeholder);d|=C}return Gc(a,d,b,c,e)}),ph=me(function(a,b){b=b.length?Cb(b):Qe(a);for(var c=-1,d=b.length;++c<d;){var e=b[c];a[e]=Gc(a[e],x,a)}return a}),qh=me(function(a,b,c){var d=x|y;if(c.length){var e=p(c,qh.placeholder);d|=C}return Gc(b,d,a,c,e)}),rh=pc(A),sh=pc(B),th=me(function(a,b){return vb(a,1,b)}),uh=me(function(a,b,c){return vb(a,b,c)}),vh=uc(),wh=uc(!0),xh=Ac(C),yh=Ac(D),zh=me(function(a,b){return Gc(a,F,null,null,null,Cb(b))}),Ah=og||function(a){return n(a)&&Zc(a.length)&&Yf.call(a)==Q};Gg.dom||(xe=function(a){return!!a&&1===a.nodeType&&n(a)&&!Dh(a)});var Bh=ug||function(a){return"number"==typeof a&&pg(a)},Ch=d(/x/)||kg&&!d(kg)?function(a){return Yf.call(a)==U}:d,Dh=eg?function(a){if(!a||Yf.call(a)!=X)return!1;var b=Oc(a,"valueOf"),c=b&&(c=eg(b))&&eg(c);return c?a==c||eg(a)==c:dd(a)}:dd,Eh=jc(function(a,b,c){return c?pb(a,b,c):qb(a,b)}),Fh=me(function(a){var b=a[0];return null==b?b:(a.push(nb),Eh.apply(v,a))}),Gh=tc(Eb),Hh=tc(Fb),Ih=wc(Kg),Jh=wc(Lg),Kh=xc(Eb),Lh=xc(Fb),Mh=qg?function(a){var b=null==a?null:a.constructor;return"function"==typeof b&&b.prototype===a||"function"!=typeof a&&Uc(a)?ed(a):Be(a)?qg(a):[]}:ed,Nh=yc(!0),Oh=yc(),Ph=jc(Ob),Qh=me(function(a,b){if(null==a)return{};if("function"!=typeof b[0]){var b=ib(Cb(b),Pf);return ad(a,wb(Ue(a),b))}var c=ec(b[0],b[1],3);return bd(a,function(a,b,d){return!c(a,b,d)})}),Rh=me(function(a,b){return null==a?{}:"function"==typeof b[0]?bd(a,ec(b[0],b[1],3)):ad(a,Cb(b))}),Sh=nc(function(a,b,c){return b=b.toLowerCase(),a+(c?b.charAt(0).toUpperCase()+b.slice(1):b)}),Th=nc(function(a,b,c){return a+(c?"-":"")+b.toLowerCase()}),Uh=zc(),Vh=zc(!0);8!=vg(Ka+"08")&&(hf=function(a,b,c){return(c?Wc(a,b,c):null==b)?b=0:b&&(b=+b),a=mf(a),vg(a,b||(Da.test(a)?16:10))});var Wh=nc(function(a,b,c){return a+(c?"_":"")+b.toLowerCase()}),Xh=nc(function(a,b,c){return a+(c?" ":"")+(b.charAt(0).toUpperCase()+b.slice(1))}),Yh=me(function(a,b){try{return a.apply(v,b)}catch(c){return Ae(c)?c:new Jf(c)}}),Zh=me(function(a,b){return function(c){return Tc(c,a,b)}}),$h=me(function(a,b){return function(c){return Tc(a,c,b)}}),_h=qc(se,xg),ai=qc(Le,yg);return V.prototype=Z.prototype,_.prototype=Hg(Z.prototype),_.prototype.constructor=_,Qa.prototype=Hg(Z.prototype),Qa.prototype.constructor=Qa,Ua.prototype["delete"]=Va,Ua.prototype.get=Wa,Ua.prototype.has=Xa,Ua.prototype.set=Ya,Za.prototype.push=bb,je.Cache=Ua,V.after=fe,V.ary=ge,V.assign=Eh,V.at=ah,V.before=he,V.bind=oh,V.bindAll=ph,V.bindKey=qh,V.callback=sf,V.chain=Kd,V.chunk=jd,V.compact=kd,V.constant=tf,V.countBy=bh,V.create=Pe,V.curry=rh,V.curryRight=sh,V.debounce=ie,V.defaults=Fh,V.defer=th,V.delay=uh,V.difference=Rg,V.drop=ld,V.dropRight=md,V.dropRightWhile=nd,V.dropWhile=od,V.fill=pd,V.filter=Ud,V.flatten=rd,V.flattenDeep=sd,V.flow=vh,V.flowRight=wh,V.forEach=eh,V.forEachRight=fh,V.forIn=Ih,V.forInRight=Jh,V.forOwn=Kh,V.forOwnRight=Lh,V.functions=Qe,V.groupBy=gh,V.indexBy=hh,V.initial=ud,V.intersection=Ug,V.invert=Te,V.invoke=ih,V.keys=Mh,V.keysIn=Ue,V.map=Xd,V.mapKeys=Nh,V.mapValues=Oh,V.matches=vf,V.matchesProperty=wf,V.memoize=je,V.merge=Ph,V.method=Zh,V.methodOf=$h,V.mixin=xf,V.negate=ke,V.omit=Qh,V.once=le,V.pairs=Ve,V.partial=xh,V.partialRight=yh,V.partition=jh,V.pick=Rh,V.pluck=Yd,V.property=Af,V.propertyOf=Bf,V.pull=xd,V.pullAt=Vg,V.range=Cf,V.rearg=zh,V.reject=Zd,V.remove=yd,V.rest=zd,V.restParam=me,V.set=Xe,V.shuffle=_d,V.slice=Ad,V.sortBy=ce,V.sortByAll=mh,V.sortByOrder=de,V.spread=ne,V.take=Bd,V.takeRight=Cd,V.takeRightWhile=Dd,V.takeWhile=Ed,V.tap=Ld,V.throttle=oe,V.thru=Md,V.times=Df,V.toArray=Ne,V.toPlainObject=Oe,V.transform=Ye,V.union=Yg,V.uniq=Fd,V.unzip=Gd,V.unzipWith=Hd,V.values=Ze,V.valuesIn=$e,V.where=ee,V.without=Zg,V.wrap=pe,V.xor=Id,V.zip=$g,V.zipObject=Jd,V.zipWith=_g,V.backflow=wh,V.collect=Xd,V.compose=wh,V.each=eh,V.eachRight=fh,V.extend=Eh,V.iteratee=sf,V.methods=Qe,V.object=Jd,V.select=Ud,V.tail=zd,V.unique=Fd,xf(V,V),V.add=Ff,V.attempt=Yh,V.camelCase=Sh,V.capitalize=bf,V.clone=qe,V.cloneDeep=re,V.deburr=cf,V.endsWith=df,V.escape=ef,V.escapeRegExp=ff,V.every=Td,V.find=ch,V.findIndex=Sg,V.findKey=Gh,V.findLast=dh,V.findLastIndex=Tg,V.findLastKey=Hh,V.findWhere=Vd,V.first=qd,V.get=Re,V.gt=se,V.gte=te,V.has=Se,V.identity=uf,V.includes=Wd,V.indexOf=td,V.inRange=_e,V.isArguments=ue,V.isArray=Ah,V.isBoolean=ve,V.isDate=we,V.isElement=xe,V.isEmpty=ye,V.isEqual=ze,V.isError=Ae,V.isFinite=Bh,V.isFunction=Ch,V.isMatch=Ce,V.isNaN=De,V.isNative=Ee,V.isNull=Fe,V.isNumber=Ge,V.isObject=Be,V.isPlainObject=Dh,V.isRegExp=He,V.isString=Ie,V.isTypedArray=Je,V.isUndefined=Ke,V.kebabCase=Th,V.last=vd,V.lastIndexOf=wd,V.lt=Le,V.lte=Me,V.max=_h,V.min=ai,V.noConflict=yf,V.noop=zf,V.now=nh,V.pad=gf,V.padLeft=Uh,V.padRight=Vh,V.parseInt=hf,V.random=af,V.reduce=kh,V.reduceRight=lh,V.repeat=jf,V.result=We,V.runInContext=u,V.size=ae,V.snakeCase=Wh,V.some=be,V.sortedIndex=Wg,V.sortedLastIndex=Xg,V.startCase=Xh,V.startsWith=kf,V.sum=Gf,V.template=lf,V.trim=mf,V.trimLeft=nf,V.trimRight=of,V.trunc=pf,V.unescape=qf,V.uniqueId=Ef,V.words=rf,V.all=Td,V.any=be,V.contains=Wd,V.eq=ze,V.detect=ch,V.foldl=kh,V.foldr=lh,V.head=qd,V.include=Wd,V.inject=kh,xf(V,function(){var a={};return Eb(V,function(b,c){V.prototype[c]||(a[c]=b)}),a}(),!1),V.sample=$d,V.prototype.sample=function(a){return this.__chain__||null!=a?this.thru(function(b){return $d(b,a)}):$d(this.value())},V.VERSION=w,db(["bind","bindKey","curry","curryRight","partial","partialRight"],function(a){V[a].placeholder=V}),db(["dropWhile","filter","map","takeWhile"],function(a,b){var c=b!=M,d=b==K;Qa.prototype[a]=function(a,e){var f=this.__filtered__,g=f&&d?new Qa(this):this.clone(),h=g.__iteratees__||(g.__iteratees__=[]);return h.push({done:!1,count:0,index:0,iteratee:Kc(a,e,1),limit:-1,type:b}),g.__filtered__=f||c,g}}),db(["drop","take"],function(a,b){var c=a+"While";Qa.prototype[a]=function(c){var d=this.__filtered__,e=d&&!b?this.dropWhile():this.clone();if(c=null==c?1:rg(dg(c)||0,0),d)b?e.__takeCount__=sg(e.__takeCount__,c):vd(e.__iteratees__).limit=c;else{var f=e.__views__||(e.__views__=[]);f.push({size:c,type:a+(e.__dir__<0?"Right":"")})}return e},Qa.prototype[a+"Right"]=function(b){return this.reverse()[a](b).reverse()},Qa.prototype[a+"RightWhile"]=function(a,b){return this.reverse()[c](a,b).reverse()}}),db(["first","last"],function(a,b){var c="take"+(b?"Right":"");Qa.prototype[a]=function(){return this[c](1).value()[0]}}),db(["initial","rest"],function(a,b){var c="drop"+(b?"":"Right");Qa.prototype[a]=function(){return this[c](1)}}),db(["pluck","where"],function(a,b){var c=b?"filter":"map",d=b?Mb:Af;Qa.prototype[a]=function(a){return this[c](d(a))}}),Qa.prototype.compact=function(){return this.filter(uf)},Qa.prototype.reject=function(a,b){return a=Kc(a,b,1),this.filter(function(b){return!a(b)})},Qa.prototype.slice=function(a,b){a=null==a?0:+a||0;var c=this;return 0>a?c=this.takeRight(-a):a&&(c=this.drop(a)),b!==v&&(b=+b||0,c=0>b?c.dropRight(-b):c.take(b-a)),c},Qa.prototype.toArray=function(){return this.drop(0)},Eb(Qa.prototype,function(a,b){var c=V[b];if(c){var d=/^(?:filter|map|reject)|While$/.test(b),e=/^(?:first|last)$/.test(b);V.prototype[b]=function(){var b=arguments,f=this.__chain__,g=this.__wrapped__,h=!!this.__actions__.length,i=g instanceof Qa,j=b[0],k=i||Ah(g);k&&d&&"function"==typeof j&&1!=j.length&&(i=k=!1);var l=i&&!h;if(e&&!f)return l?a.call(g):c.call(V,this.value());var m=function(a){var d=[a];return gg.apply(d,b),c.apply(V,d)};if(k){var n=l?g:new Qa(this),o=a.apply(n,b);if(!e&&(h||o.__actions__)){var p=o.__actions__||(o.__actions__=[]);p.push({func:Md,args:[m],thisArg:V})}return new _(o,f)}return this.thru(m)}}}),db(["concat","join","pop","push","replace","shift","sort","splice","split","unshift"],function(a){var b=(/^(?:replace|split)$/.test(a)?Tf:Rf)[a],c=/^(?:push|sort|unshift)$/.test(a)?"tap":"thru",d=/^(?:join|pop|replace|shift)$/.test(a);V.prototype[a]=function(){var a=arguments;return d&&!this.__chain__?b.apply(this.value(),a):this[c](function(c){return b.apply(c,a)})}}),Eb(Qa.prototype,function(a,b){var c=V[b];if(c){var d=c.name,e=Fg[d]||(Fg[d]=[]);e.push({name:b,func:c})}}),Fg[Cc(null,y).name]=[{name:"wrapper",func:null}],Qa.prototype.clone=Ra,Qa.prototype.reverse=Sa,Qa.prototype.value=Ta,V.prototype.chain=Nd,V.prototype.commit=Od,V.prototype.plant=Pd,V.prototype.reverse=Qd,V.prototype.toString=Rd,V.prototype.run=V.prototype.toJSON=V.prototype.valueOf=V.prototype.value=Sd,V.prototype.collect=V.prototype.map,V.prototype.head=V.prototype.first,V.prototype.select=V.prototype.filter,V.prototype.tail=V.prototype.rest,V}var v,w="3.9.3",x=1,y=2,z=4,A=8,B=16,C=32,D=64,E=128,F=256,G=30,H="...",I=150,J=16,K=0,L=1,M=2,N="Expected a function",O="__lodash_placeholder__",P="[object Arguments]",Q="[object Array]",R="[object Boolean]",S="[object Date]",T="[object Error]",U="[object Function]",V="[object Map]",W="[object Number]",X="[object Object]",Y="[object RegExp]",Z="[object Set]",$="[object String]",_="[object WeakMap]",aa="[object ArrayBuffer]",ba="[object Float32Array]",ca="[object Float64Array]",da="[object Int8Array]",ea="[object Int16Array]",fa="[object Int32Array]",ga="[object Uint8Array]",ha="[object Uint8ClampedArray]",ia="[object Uint16Array]",ja="[object Uint32Array]",ka=/\b__p \+= '';/g,la=/\b(__p \+=) '' \+/g,ma=/(__e\(.*?\)|\b__t\)) \+\n'';/g,na=/&(?:amp|lt|gt|quot|#39|#96);/g,oa=/[&<>"'`]/g,pa=RegExp(na.source),qa=RegExp(oa.source),ra=/<%-([\s\S]+?)%>/g,sa=/<%([\s\S]+?)%>/g,ta=/<%=([\s\S]+?)%>/g,ua=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,va=/^\w*$/,wa=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,xa=/[.*+?^${}()|[\]\/\\]/g,ya=RegExp(xa.source),za=/[\u0300-\u036f\ufe20-\ufe23]/g,Aa=/\\(\\)?/g,Ba=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ca=/\w*$/,Da=/^0[xX]/,Ea=/^\[object .+?Constructor\]$/,Fa=/^\d+$/,Ga=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,Ha=/($^)/,Ia=/['\n\r\u2028\u2029\\]/g,Ja=function(){var a="[A-Z\\xc0-\\xd6\\xd8-\\xde]",b="[a-z\\xdf-\\xf6\\xf8-\\xff]+";return RegExp(a+"+(?="+a+b+")|"+a+"?"+b+"|"+a+"+|[0-9]+","g")}(),Ka=" 	\f \ufeff\n\r\u2028\u2029 ᠎             　",La=["Array","ArrayBuffer","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Math","Number","Object","RegExp","Set","String","_","clearTimeout","document","isFinite","parseFloat","parseInt","setTimeout","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","window"],Ma=-1,Na={};Na[ba]=Na[ca]=Na[da]=Na[ea]=Na[fa]=Na[ga]=Na[ha]=Na[ia]=Na[ja]=!0,Na[P]=Na[Q]=Na[aa]=Na[R]=Na[S]=Na[T]=Na[U]=Na[V]=Na[W]=Na[X]=Na[Y]=Na[Z]=Na[$]=Na[_]=!1;var Oa={};Oa[P]=Oa[Q]=Oa[aa]=Oa[R]=Oa[S]=Oa[ba]=Oa[ca]=Oa[da]=Oa[ea]=Oa[fa]=Oa[W]=Oa[X]=Oa[Y]=Oa[$]=Oa[ga]=Oa[ha]=Oa[ia]=Oa[ja]=!0,Oa[T]=Oa[U]=Oa[V]=Oa[Z]=Oa[_]=!1;var Pa={leading:!1,maxWait:0,trailing:!1},Qa={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss"},Ra={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},Sa={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},Ta={"function":!0,object:!0},Ua={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Va=Ta[typeof exports]&&exports&&!exports.nodeType&&exports,Wa=Ta[typeof module]&&module&&!module.nodeType&&module,Xa=Va&&Wa&&"object"==typeof global&&global&&global.Object&&global,Ya=Ta[typeof self]&&self&&self.Object&&self,Za=Ta[typeof window]&&window&&window.Object&&window,$a=Wa&&Wa.exports===Va&&Va,_a=Xa||Za!==(this&&this.window)&&Za||Ya||this,ab=u();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(_a._=ab,define("lodash",[],function(){return ab})):Va&&Wa?$a?(Wa.exports=ab)._=ab:Va._=ab:_a._=ab}).call(this),define("datatypes/InputFieldTypes",["require","exports"],function(a,b){var c=function(){function a(){}return a.DYNAMIC_FIELD_LIST="dynamic_field_list",a.RICH_TEXT="rich_text",a.CODE_TEXT="code_text",a.SELECT="select",a.MULTI_SELECT="multi_select",a.FILE="file",a.FILE_LIST="file_list",a.PASSWORD="password",a.PASSWORD_REPEAT="password_repeat",a.NUMBER="number",a.EMAIL="email",a.IMAGE="image",a.DATE="date",a.HIDDEN="hidden",a.TEXT="text",a.BOOLEAN="boolean",a.TYPEAHEAD="typeahead",a.MULTILINE_TEXT="multiline_text",a.LABEL="label",a}();return c}),define("datatypes/Constants",["require","exports"],function(a,b){var c=function(){function a(){}return a.PASSWORD_REPEAT_SUFFIX="$Repeat",a}();return c}),define("common/FormValidator",["require","exports","datatypes/Constants","datatypes/InputFieldTypes","angular"],function(a,b,c,d){var e=function(){function a(){}return a.validate=function(a,b,e,f,g,h){switch(e.type){case d.FILE:return e.required&&f&&(null===b||null===b.file||0===b.file.length)&&h("required"),void(g.maximumFileSize>0&&null!==b&&b.file.length>g.maximumFileSize&&h("maxlength"));case d.FILE_LIST:if(e.required&&f&&(null===b||0===b.length)&&h("required"),null!==b)for(var i=0;i<b.length;i++){var j=b[i];if(null!==j.file&&j.file.length>g.maximumFileSize){h("maxlength");break}}return;case d.MULTI_SELECT:return}if("undefined"==typeof b||null===b||0===b.toString().trim().length)return void(e.required&&h("required"));switch(e.type){case d.NUMBER:_.isNaN(parseFloat(b))&&h("number");break;case d.EMAIL:_.isString(b)&&b.search(/[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}/)||h("email");break;case d.PASSWORD_REPEAT:var k=a[e.property+c.PASSWORD_REPEAT_SUFFIX];_.isString(k)&&k===b||h("password_match")}},a}();return e}),define("modules/WebFormsModule",["require","exports","angular","angular.material","angular.animate","angular.touch","angular.translate"],function(a,b){var c=angular.module("lm-webforms",["ngMaterial","ngTouch","ngMessages","ngAnimate","pascalprecht.translate"]);return c}),define("controllers/InputFormController",["require","exports","lodash","datatypes/InputFieldTypes","common/FormValidator","datatypes/Constants","modules/WebFormsModule","Recaptcha","angular"],function(a,b,c,d,e,f,g){var h=function(){function a(b,e,f,g,h,i,j,k){var l=this;this.scope=b,this.dialogService=e,this.object=h,this.definition=i,this.defer=j,this.sceService=f,this.configuration=g,this.resolver=k,this.scope.title=i.title,b.useCodemirror=c.some(i.fields,function(a){return a.type==d.CODE_TEXT}),b.submitError="",b.isApplying=!1,b.submitWithCaptcha=i.useCaptcha,b.okDisabled=function(a){return l.okDisabled(a)},b.codeMirrorDefaultOptions=a.getCodeMirrorDefaultOptions(),b.isNewObject=null===h,b.object=null!=h?c.cloneDeep(h):{},b.fieldValueSelected=function(a,b){return l.onFieldValueSelected(a,b)},b.getValue=function(a){return a.type===d.RICH_TEXT&&b.readOnly(a).length>0?f.trustAsHtml(h[a.property]):h[a.property]},b.getHelpText=function(b){return a.onGetHelpText(b)},b.fieldVisible=function(a){return a.visibleFunction?a.visibleFunction(b.object):!0},b.readOnly=function(a){return a.readOnlyFunction?a.readOnlyFunction(b.object)?"readonly":"":a.readOnly?"readonly":""},b.submit=function(a){return l.onSubmit(a)},b.cancel=function(){return l.onCancel()},b.showDateTimeField=function(a,b){a.preventDefault(),a.stopPropagation(),b.isOpen=!0},this.initializeFields()}return a.prototype.okDisabled=function(a){return this.scope.isApplying||!c.isUndefined(a)&&a.$invalid},a.onGetHelpText=function(a){var b=a.helpText;return null==b&&(b=""),b},a.getCodeMirrorDefaultOptions=function(){return{mode:"text/html",lineNumbers:!0,lineWrapping:!0,indentWithTabs:!0,theme:"default",extraKeys:{F11:function(a){a.setOption("fullScreen",!a.getOption("fullScreen"))},Esc:function(a){a.getOption("fullScreen")&&a.setOption("fullScreen",!1)}}}},a.prototype.onFieldValueSelected=function(a,b){var c=this.scope.object[a.property];switch(a.type){case d.SELECT:return b.value==c;case d.MULTI_SELECT:if(!c)return!1;for(var e=0;e<c.length;e++)if(c[e]==b.value)return!0;return!1;default:return!1}},a.prototype.processField=function(a){switch(a.type){case d.DYNAMIC_FIELD_LIST:this.processDynamicFields(a);break;case d.HIDDEN:break;default:this.addField(a)}},a.prototype.processDynamicFields=function(a){var b=this,d=this.scope.object[a.property];c.isArray(d)&&c.forEach(d,function(d){var e=c.cloneDeep(d.field);e.property=a.property+"$"+e.property,e.dynamicSource=d,b.addField(e),b.scope.object[e.property]=d.value})},a.prototype.addField=function(a){if(a.type===d.PASSWORD_REPEAT){a=c.cloneDeep(a),a.type=d.PASSWORD,this.addSimpleField(a);var b=c.cloneDeep(a);b.property=a.property+f.PASSWORD_REPEAT_SUFFIX,b.inlineWithPrevious=!0,b.reference=a.property,b.type=d.PASSWORD_REPEAT,b.required=!1,this.addSimpleField(b)}else this.addSimpleField(a)},a.prototype.addSimpleField=function(a){this.scope.object.hasOwnProperty(a.property)||(c.isUndefined(a.defaultValue)?this.scope.object[a.property]="":this.scope.object[a.property]=a.defaultValue);var b=this.scope.fields;if(a.inlineWithPrevious&&0!==b.length){var e=b[b.length-1];if(e.isGroup)e.children.push(a);else{var f={};f.isGroup=!0,f.type="",f.children=[],f.children.push(e),f.children.push(a),f.position=e.position,b[b.length-1]=f}}else b.push(a);switch(a.type){case d.IMAGE:case d.FILE:this.scope.object[a.property]=null;break;case d.SELECT:if(c.isArray(a.selectValues)){var g=a.selectValues;g.length>0&&(this.scope.object[a.property]=g[0].value)}break;case d.DATE:a.isOpen=!1}if(c.isBoolean(a.visible)||c.isString(a.visible))if(c.isBoolean(a.visible)){var h=a.visible;a.visibleFunction=function(a){return h}}else a.visibleFunction=new Function("obj","with(obj) { return "+a.visible+"; }");else a.visibleFunction=null;if(c.isBoolean(a.readOnly)||c.isString(a.readOnly))if(c.isBoolean(a.readOnly)){var i=a.readOnly;a.readOnlyFunction=function(a){return i}}else a.readOnlyFunction=new Function("obj","with(obj) { return "+a.readOnly+"; }");else a.readOnlyFunction=null},a.prototype.initializeFields=function(){var a=this;this.scope.fields=[],c.forEach(this.definition.fields,function(b){a.processField(b)})},a.prototype.onCancel=function(){this.dialogService.hide("cancel")},a.prototype.onSubmit=function(a){var b=this;if(c.each(this.scope.fields,function(d){if(b.scope.fieldVisible(d)&&!b.scope.readOnly(d)){var f=a[d.property];c.isObject(f)&&f.$setDirty();var g=b.scope.object[d.property];e.validate(b.scope.object,g,d,b.scope.isNewObject,b.configuration,function(a){f.$setValidity(a,!1)})}}),!a.$invalid){c.each(this.scope.fields,function(a){a.dynamicSource&&(a.dynamicSource.value=b.scope.object[a.property])}),this.scope.submitWithCaptcha&&(this.scope.object["-RecaptchaChallenge-"]=Recaptcha.get_challenge(),this.scope.object["-RecaptchaResponse-"]=Recaptcha.get_response()),this.scope.submitError="",this.scope.isApplying=!0;try{var g=c.cloneDeep(this.scope.object);if(c.each(this.scope.fields,function(a){a.dynamicSource?delete g[a.property]:a.type==d.PASSWORD_REPEAT&&delete g[a.property+f.PASSWORD_REPEAT_SUFFIX]}),c.each(this.definition.fields,function(a){if(a.type==d.DYNAMIC_FIELD_LIST){var b=g[a.property];null!=b&&c.each(b,function(a){var b=a.field.property;a.field={},a.field.property=b})}}),null==this.resolver)return this.dialogService.hide(),void this.defer.resolve(g);this.resolver(g).then(function(){b.scope.isApplying=!1,b.dialogService.hide(),null!=b.defer&&b.defer.resolve(g)},function(a){b.scope.isApplying=!1,b.scope.submitError=a,b.scope.submitWithCaptcha&&Recaptcha.reload()})}catch(h){this.scope.isApplying=!1,this.scope.submitError=h.toString()}}},a}();return g.controller("inputForm",["$scope","$mdDialog","$sce","webFormsConfiguration","object","definition","defer","resolver",h]),h});var __extends=this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);c.prototype=b.prototype,a.prototype=new c};define("controllers/DialogController",["require","exports","controllers/InputFormController","modules/WebFormsModule","angular"],function(a,b,c,d){var e=function(a){function b(b,c,d,e,f){var g=this;a.call(this,b,c,d,e,b.configuration.object,b.definition,null,function(a){return g.successFunction(a)}),this.qService=f,this.dialogScope=b,b.submitError="",b.submitSuccess="",b.hasChanges=!1,b.changesApplied=!1,b.openForm=function(a){a.$setPristine(),b.changesApplied=!1,b.submitError="",b.submitSuccess=""},b.$watch("object",function(a,b){a!==b&&g.onDataChanged()},!0)}return __extends(b,a),b.prototype.okDisabled=function(b){return a.prototype.okDisabled.call(this,b)||!this.dialogScope.hasChanges},b.prototype.onDataChanged=function(){this.dialogScope.hasChanges=!0,this.dialogScope.submitError="",this.dialogScope.submitSuccess=""},b.prototype.successFunction=function(a){var b=this,c=this.qService.defer();return this.dialogScope.submit(a).then(function(a){b.dialogScope.hasChanges=!1,b.dialogScope.changesApplied=!0,b.dialogScope.submitSuccess=a.message,c.resolve()},function(a){return c.reject(a)}),c.promise},b}(c);return d.controller("dialog",["$scope","$mdDialog","$sce","webFormsConfiguration","commandProcessor","$q",e]),e}),define("controllers/InputFormMessageController",["require","exports","modules/WebFormsModule","angular"],function(a,b,c){var d=function(){function a(a,b,c,d,e){a.message=c,a.title=d,a.close=function(){b.hide(),e.resolve()}}return a}();c.controller("inputFormMessage",["$scope","$mdDialog","message","title","defer",d])}),define("controllers/InputFormQuestionController",["require","exports","modules/WebFormsModule","angular"],function(a,b,c){var d=function(){function a(a,b,c,d,e,f){a.message=c,a.title=d,a.submitError="",a.isApplying=!1,a.close=function(){null==f&&(b.hide(),e.resolve()),a.submitError="",a.isApplying=!0;var c=f();c.then(function(){b.hide(),a.isApplying=!1,e.resolve()},function(b){a.submitError=b,a.isApplying=!1})}}return a}();c.controller("inputFormQuestion",["$scope","$mdDialog","message","title","defer","resolver",d])}),define("directives/CkEditorDirective",["require","exports","lodash","modules/WebFormsModule","angular"],function(a,b,c,d){var e=function(){function a(){}return a}(),f=function(){function a(a,b,c,d,f,g,h){var i=this;this.smileIdToCode={},this.smileCodeToId={},this.configuration=f,this.options=new e,this.scope=a,this.friendlyFormatting=g,this.model=c,this.inputContainer=d,this.initializeSmiles(),d.setHasValue(!0),this.editor=h.appendTo(b[0],this.options),this.editor.on("change",function(){return i.applyChanges()}),this.editor.on("key",function(){return i.applyChanges()}),this.editor.on("focus",function(){return i.inputContainer.setFocused(!0)}),this.editor.on("blur",function(){return i.inputContainer.setFocused(!1)}),c.$render=function(){return i.render()}}return a.prototype.updateEditorState=function(a){this.inputContainer.setHasValue(!0),this.inputContainer.setInvalid(this.model.$invalid&&this.model.$touched)},a.prototype.render=function(){var a=this.model.$viewValue||"";a&&this.friendlyFormatting.getSmilesExpression()&&(a=this.friendlyFormatting.smilesToImg(a)),this.editor.setData(a),this.updateEditorState(a)},a.prototype.applyChanges=function(){var a=this;this.scope.$apply(function(){return a.setViewValue()})},a.prototype.setViewValue=function(){var a=this,b=this.editor.getData();null!=this.friendlyFormatting.getSmilesExpression()&&(b=b.replace(/<img\s+alt="([^"]*)"\s+src="[^"]*"\s+(?:style="[^"]*"\s+)?title="([^"]*)"\s+\/?>/gi,function(b,c,d){return c&&d&&c==d&&a.smileCodeToId.hasOwnProperty(c)?c:b})),this.model.$setViewValue(b),this.model.$setTouched(),this.updateEditorState(b)},a.prototype.initializeSmiles=function(){var a=this;this.configuration.smilesBase&&0!==this.configuration.smilesBase.length&&this.configuration.smiles&&0!==this.configuration.smiles.length&&(this.options.smiley_path=this.configuration.smilesBase,this.options.smiley_descriptions=[],this.options.smiley_images=[],c.forEach(this.configuration.smiles,function(b){a.smileCodeToId[b.code]=b.id,a.smileIdToCode[b.id]=b.code,a.options.smiley_descriptions.push(b.code),a.options.smiley_images.push(b.id)}))},a}();d.directive("ckEditor",["webFormsConfiguration","friendlyFormatting",function(b,c){return{require:["?ngModel","^?mdInputContainer"],restrict:"AE",replace:!1,scope:{options:"=",readonly:"="},link:function(d,e,g,h){a(["ckeditor"],function(a){return new f(d,e,h[0],h[1],b,c,a)})}}}])}),define("views/codemirror",[],function(){return'<div class="md-input CodeMirrorInput"></div>'}),define("directives/CodeMirrorDirective",["require","exports","views/codemirror","modules/WebFormsModule","angular"],function(a,b,c,d){var e=function(){function a(a,b,c,d,e,f){var g=this;this.scope=a,this.model=d,this.inputContainer=f,_.isUndefined(a.options)&&(a.options={});var h=this.model.$viewValue||"";a.options.lineNumbers=!0,
a.options.mode="htmlmixed",a.options.inputStyle="textarea",a.options.value=h,this.editor=this.createEditor(b,a.options,e),this.configOptionsWatcher(c.uiCodemirror||c.uiCodemirrorOpts),this.configNgModelLink(),this.configUiRefreshAttribute(c.uiRefresh),a.$on("CodeMirror",function(a,b){if(!_.isFunction(b))throw new Error("the CodeMirror event requires a callback function");b(g.editor)}),this.updateEditorState(h)}return a.prototype.createEditor=function(a,b,c){return new c(function(b){a.append(b)},b)},a.prototype.configOptionsWatcher=function(a){var b=this;if(a){var c=Object.keys(CodeMirror.CodeMirror.defaults);this.scope.$watch("options",function(a,d){_.isObject(a)&&c.forEach(function(c){if(a.hasOwnProperty(c)){if(d&&a[c]===d[c])return;b.editor.setOption(c,a[c])}})},!0)}},a.prototype.updateEditorState=function(a){this.inputContainer.setHasValue(!_.isEmpty(a)),this.inputContainer.setInvalid(this.model.$invalid&&this.model.$touched)},a.prototype.configNgModelLink=function(){var a=this;this.model&&(this.model.$formatters.push(function(a){if(angular.isUndefined(a)||null===a)return"";if(angular.isObject(a)||angular.isArray(a))throw new Error("ui-codemirror cannot use an object or an array as a model");return a}),this.model.$render=function(){var b=a.model.$viewValue||"";a.editor.setValue(b),a.updateEditorState(b)},this.editor.on("change",function(b){var c=b.getValue();c!==a.model.$viewValue&&a.scope.$evalAsync(function(){a.model.$setViewValue(c),a.model.$setTouched(),a.updateEditorState(c)})}),this.editor.on("focus",function(){a.inputContainer.setFocused(!0)}),this.editor.on("blur",function(){a.inputContainer.setFocused(!1)}))},a.prototype.configUiRefreshAttribute=function(a){var b=this;a&&this.scope.$watch(a,function(a,c){a!==c&&b.scope.$evalAsync(function(){b.editor.refresh()})})},a}();d.directive("uiCodemirror",["webFormsConfiguration",function(b){return{restrict:"E",template:c,replace:!0,require:["?ngModel","^?mdInputContainer"],scope:{options:"=",readonly:"="},link:function(c,d,f,g){var h=["codemirror"];b.codeMirrorModules&&b.codeMirrorModules.length&&(h=_.union(h,b.codeMirrorModules)),a(h,function(a){new e(c,d,f,g[0],a,g[1])})}}}])}),define("views/webDialog",[],function(){return'<div ng-form="form"><div ng-if="!changesApplied"><md-content layout-padding="layout-padding" layout="column"><style>md-input-container.inputfield-file label {    flex: none;    -webkit-flex: none;    transform: none !important;}</style><div ng-repeat="field in fields | orderBy: \'position\'"><input-field field="field" object="object" form="form" ng-if="fieldVisible(field) &amp;&amp; !field.isGroup"></input-field><div ng-if="field.isGroup" layout="row" layout-sm="column"><input-field ng-repeat="child in field.children" field="child" object="object" form="form" ng-if="fieldVisible(child)" flex=""></input-field></div></div><div ng-if="submitWithCaptcha" captcha="recaptchaPublicKey"></div><div ng-if="submitError.length &gt; 0" class="bg-danger dialog-notification"><span class="glyphicon glyphicon-exclamation-sign"></span><span ng-bind="submitError"></span></div><div ng-if="submitSuccess.length &gt; 0" class="bg-success dialog-notification"><span class="glyphicon glyphicon-ok-circle"></span><span ng-bind="submitSuccess"></span></div></md-content><md-content layout-padding="layout-padding"><md-button ng-click="submit(form)" ng-disabled="okDisabled(form)" class="md-raised md-primary"><span ng-bind="applyCaption | translate"></span><md-progress-circular ng-show="isApplying" md-mode="indeterminate" md-diameter="10"></md-progress-circular></md-button></md-content></div><div ng-if="changesApplied"><div ng-bind="submitSuccess" class="bg-success dialog-notification"></div><md-content layout-padding="layout-padding"><md-button ng-click="openForm(form)" ng-bind="\'Open Form\' | translate" aria-label="Open" class="md-raised"></md-button></md-content></div></div>'}),define("directives/DialogDirective",["require","exports","views/webDialog","modules/WebFormsModule","controllers/DialogController","angular"],function(a,b,c,d,e){d.directive("lmDialog",[function(){return{template:c,restrict:"E",replace:!1,scope:{configuration:"="},controller:e}}])}),define("views/fileRead",[],function(){return'<input type="file" style="display: none"/><md-button ng-click="chooseFile()">{{ configuration.chooseFileMessage | translate }}</md-button><md-button ng-click="clear()" ng-show="valueSet">{{ configuration.clearFileMessage | translate }}</md-button><span>{{comment}}</span>'}),define("directives/FileReadDirective",["require","exports","modules/WebFormsModule","views/fileRead","angular"],function(a,b,c,d){var e=function(){function a(a,b,c,d,e){var f=this;this.scope=a,this.scope.comment="",this.scope.configuration=c,this.model=d,this.container=e,this.scope.valueSet=_.isObject(this.model.$modelValue);var g=b.find("input[type=file]");a.chooseFile=function(){g.click()},a.clear=function(){g.val(""),g.html(""),f.model.$setViewValue(null),f.scope.comment="",f.container.setHasValue(!1),f.scope.valueSet=!1},g.bind("change",function(a){return f.onFileSelected(a)})}return a.prototype.onFileSelected=function(a){var b=this;if(0!==a.target.files.length){var c=a.target.files[0];this.scope.comment=c.name;var d=new FileReader;d.onload=function(c){b.scope.$apply(function(){return b.onReadFinished(c,a)})},d.readAsDataURL(c)}},a.prototype.onReadFinished=function(a,b){var c=a.target.result,d=c.indexOf("base64,");d>0&&(c=c.substring(d+7));var e=b.target.files[0];this.container.setHasValue(!0),this.model.$setViewValue({file:c,type:e.type,name:e.name,id:null}),this.model.$setDirty(),this.model.$setTouched(),this.scope.valueSet=!0},a}();c.directive("fileRead",["webFormsConfiguration",function(a){return{template:d,restrict:"E",replace:!1,require:["?ngModel","^?mdInputContainer"],scope:!0,link:function(b,c,d,f){new e(b,c,a,f[0],f[1])}}}])}),define("directives/InputFieldDirective",["require","exports","datatypes/InputFieldTypes","lodash","modules/WebFormsModule"],function(a,b,c,d,e){function f(a){switch(a){case c.TEXT:return"text";case c.CODE_TEXT:return"codeText";case c.BOOLEAN:return"checkBox";case c.DATE:return"date";case c.EMAIL:return"email";case c.FILE:return"file";case c.FILE_LIST:return"fileList";case c.IMAGE:return"image";case c.LABEL:return"label";case c.MULTILINE_TEXT:return"multilineText";case c.MULTI_SELECT:return"multiSelect";case c.NUMBER:return"number";case c.PASSWORD:return"password";case c.PASSWORD_REPEAT:return"passwordRepeat";case c.RICH_TEXT:return"richText";case c.SELECT:return"select";case c.TYPEAHEAD:return"typeahead"}}var g=function(){function b(a,b,c,d){var e=this;this.scope=a,this.scope.configuration=d,this.element=b,this.compileService=c,this.configuration=d,a.$watch("field",function(){return e.render()})}return b.prototype.getTemplateUrl=function(){return"../views/inputFields/"+f(this.scope.field.type.toLowerCase())},b.prototype.render=function(){var b=this;a([this.getTemplateUrl()],function(a){b.onContentLoaded(a)})},b.prototype.onContentLoaded=function(a){if(this.element.contents().remove(),d.isObject(this.scope.field)){a="<md-input-container class='inputfield-"+this.scope.field.type+"'>"+a+"<input-field-error></input-field-error></md-input-container>";var b=angular.element(a).appendTo(this.element);this.compileService(b)(this.scope)}},b}();e.directive("inputField",["$compile","webFormsConfiguration",function(a,b){return{restrict:"EA",require:["^form"],scope:{field:"=",object:"=",form:"="},link:function(c,d){new g(c,d,a,b)}}}])}),define("utilities/StringFormatter",["require","exports","lodash"],function(a,b,c){var d=function(){function a(){}return a.format=function(a){for(var b=[],d=1;d<arguments.length;d++)b[d-1]=arguments[d];return a.replace(/{(\d+)}/g,function(a,d){return c.isUndefined(b[d])?a:b[d]})},a}();return d}),define("views/inputFieldError",[],function(){return'<div ng-messages="form[field.property].$error" ng-show="form[field.property].$dirty"><div ng-message="required">{{ configuration.requiredErrorMessage | translate }}</div><div ng-message="maxlength">{{ maxLengthMessage }}</div><div ng-message="minlength">{{ minLengthMessage }}</div><div ng-message="email">{{ configuration.emailErrorMessage | translate }}</div><div ng-message="url">{{ configuration.urlErrorMessage | translate }}</div><div ng-message="pattern">{{ configuration.patternErrorMessage | translate }}</div><div ng-message="date">{{ configuration.dateErrorMessage | translate }}</div><div ng-message="time">{{ configuration.timeErrorMessage | translate }}</div><div ng-message="number">{{ configuration.numberErrorMessage | translate }}</div><div ng-message="password_match">{{ configuration.passwordErrorMessage | translate }}</div><div ng-message="equals">{{ configuration.notEqualErrorMessage | translate }}</div></div>'}),define("directives/InputFieldErrorDirective",["require","exports","utilities/StringFormatter","modules/WebFormsModule","views/inputFieldError"],function(a,b,c,d,e){var f=function(){function a(a,b,d){a.configuration=d,a.maxLengthMessage="",a.field.maxLength&&b(d.maxLengthErrorMessage).then(function(b){return a.maxLengthMessage=c.format(b,a.field.maxLength)}),a.minLengthMessage="",a.field.minLength&&b(d.minLengthErrorMessage).then(function(b){return a.minLengthMessage=c.format(b,a.field.minLength)})}return a}();d.directive("inputFieldError",[function(){return{template:e,restrict:"E",replace:!0,controller:["$scope","$translate","webFormsConfiguration",f]}}])}),define("views/multiFileRead",[],function(){return'<ul class="file-choose-list"><li ng-foreach="file in value.files"><span>{{file.name}}</span><span ng-click="removeFile(file)" class="file-remove glyphicon glyphicon-remove"></span></li></ul><input type="file" style="display: none" multiple="multiple"/><md-button>{{ \'Main.ChooseFile\' | translate }}</md-button>'}),define("datatypes/FileReadResponse",function(){}),define("directives/MultiFileReadDirective",["require","exports","modules/WebFormsModule","views/multiFileRead","../datatypes/FileReadResponse","angular"],function(a,b,c,d){var e=function(){function a(){}return a}(),f=function(){function a(a,b){var c=this;this.fileId=1,this.scope=a,null==a.value?(a.value=new e,this.fileReadBefore=0):this.fileReadBefore=a.value.files.length,a.value.files=[],this.fileElement=b.find("file"),a.chooseFile=function(){return c.fileElement.click()},this.fileElement.bind("change",function(a){return c.onFilesSelected(a)}),a.removeFile=function(b){for(var c=0;c<a.value.files.length;c++)if(a.value.files[c].id==b.id){a.value.files.splice(c,1);break}}}return a.prototype.onFilesSelected=function(a){for(var b=a.target.files,c=0;c<b.length;c++){var d=b[c];this.readFile(d,a,b)}},a.prototype.onReadFinished=function(a,b,c){var d=a.target.result,e=d.indexOf("base64,");e>0&&(d=d.substring(e+7));var f={file:d,type:b.type,name:b.name,id:this.fileId++};this.scope.value.files.push(f),this.scope.value.files.length-this.fileReadBefore==c.length&&this.fileElement.val("")},a.prototype.readFile=function(a,b,c){var d=this,e=new FileReader;e.onload=function(){d.scope.$apply(function(){return d.onReadFinished(b,a,c)})},e.readAsDataURL(a)},a}();c.directive("multiFileRead",[function(){return{template:d,restrict:"E",replace:!1,scope:{value:"="},link:f}}])}),define("directives/ValidateEqualsDirective",["require","exports","lodash","modules/WebFormsModule"],function(a,b,c,d){var e=function(){function a(a,b,c){var d=this;this.model=c,this.attrs=b,a.$watch(b.ngModel,function(){return d.validate()}),b.$observe("reference",function(){return d.validate()})}return a.prototype.validate=function(){var a=this.model.$viewValue,b=this.attrs.reference;this.model.$setValidity("equals",c.isEqual(a,b))},a}();d.directive("validateEquals",[function(){return{restrict:"A",require:"?ngModel",link:function(a,b,c,d){new e(a,c,d)}}}])}),function(a,b){"function"==typeof define&&define.amd?define("autolinker",[],function(){return a.Autolinker=b()}):"object"==typeof exports?module.exports=b():a.Autolinker=b()}(this,function(){var a=function(b){a.Util.assign(this,b);var c=this.hashtag;if(c!==!1&&"twitter"!==c&&"facebook"!==c)throw new Error("invalid `hashtag` cfg - see docs")};return a.prototype={constructor:a,urls:!0,email:!0,twitter:!0,phone:!0,hashtag:!1,newWindow:!0,stripPrefix:!0,truncate:void 0,className:"",htmlParser:void 0,matchParser:void 0,tagBuilder:void 0,link:function(a){if(!a)return"";for(var b=this.getHtmlParser(),c=b.parse(a),d=0,e=[],f=0,g=c.length;g>f;f++){var h=c[f],i=h.getType(),j=h.getText();if("element"===i)"a"===h.getTagName()&&(h.isClosing()?d=Math.max(d-1,0):d++),e.push(j);else if("entity"===i||"comment"===i)e.push(j);else if(0===d){var k=this.linkifyStr(j);e.push(k)}else e.push(j)}return e.join("")},linkifyStr:function(a){return this.getMatchParser().replace(a,this.createMatchReturnVal,this)},createMatchReturnVal:function(b){var c;if(this.replaceFn&&(c=this.replaceFn.call(this,this,b)),"string"==typeof c)return c;if(c===!1)return b.getMatchedText();if(c instanceof a.HtmlTag)return c.toAnchorString();var d=this.getTagBuilder(),e=d.build(b);return e.toAnchorString()},getHtmlParser:function(){var b=this.htmlParser;return b||(b=this.htmlParser=new a.htmlParser.HtmlParser),b},getMatchParser:function(){var b=this.matchParser;return b||(b=this.matchParser=new a.matchParser.MatchParser({urls:this.urls,email:this.email,twitter:this.twitter,phone:this.phone,hashtag:this.hashtag,stripPrefix:this.stripPrefix})),b},getTagBuilder:function(){var b=this.tagBuilder;return b||(b=this.tagBuilder=new a.AnchorTagBuilder({newWindow:this.newWindow,truncate:this.truncate,className:this.className})),b}},a.link=function(b,c){var d=new a(c);return d.link(b)},a.match={},a.htmlParser={},a.matchParser={},a.Util={abstractMethod:function(){throw"abstract"},trimRegex:/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,assign:function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a},extend:function(b,c){var d=b.prototype,e=function(){};e.prototype=d;var f;f=c.hasOwnProperty("constructor")?c.constructor:function(){d.constructor.apply(this,arguments)};var g=f.prototype=new e;return g.constructor=f,g.superclass=d,delete c.constructor,a.Util.assign(g,c),f},ellipsis:function(a,b,c){return a.length>b&&(c=null==c?"..":c,a=a.substring(0,b-c.length)+c),a},indexOf:function(a,b){if(Array.prototype.indexOf)return a.indexOf(b);for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1},splitAndCapture:function(a,b){if(!b.global)throw new Error("`splitRegex` must have the 'g' flag set");for(var c,d=[],e=0;c=b.exec(a);)d.push(a.substring(e,c.index)),d.push(c[0]),e=c.index+c[0].length;return d.push(a.substring(e)),d},trim:function(a){return a.replace(this.trimRegex,"")}},a.HtmlTag=a.Util.extend(Object,{whitespaceRegex:/\s+/,constructor:function(b){a.Util.assign(this,b),this.innerHtml=this.innerHtml||this.innerHTML},setTagName:function(a){return this.tagName=a,this},getTagName:function(){return this.tagName||""},setAttr:function(a,b){var c=this.getAttrs();return c[a]=b,this},getAttr:function(a){return this.getAttrs()[a]},setAttrs:function(b){var c=this.getAttrs();return a.Util.assign(c,b),this},getAttrs:function(){return this.attrs||(this.attrs={})},setClass:function(a){return this.setAttr("class",a)},addClass:function(b){for(var c,d=this.getClass(),e=this.whitespaceRegex,f=a.Util.indexOf,g=d?d.split(e):[],h=b.split(e);c=h.shift();)-1===f(g,c)&&g.push(c);return this.getAttrs()["class"]=g.join(" "),this},removeClass:function(b){for(var c,d=this.getClass(),e=this.whitespaceRegex,f=a.Util.indexOf,g=d?d.split(e):[],h=b.split(e);g.length&&(c=h.shift());){var i=f(g,c);-1!==i&&g.splice(i,1)}return this.getAttrs()["class"]=g.join(" "),this},getClass:function(){return this.getAttrs()["class"]||""},hasClass:function(a){return-1!==(" "+this.getClass()+" ").indexOf(" "+a+" ")},setInnerHtml:function(a){return this.innerHtml=a,this},getInnerHtml:function(){return this.innerHtml||""},toAnchorString:function(){var a=this.getTagName(),b=this.buildAttrsStr();return b=b?" "+b:"",["<",a,b,">",this.getInnerHtml(),"</",a,">"].join("")},buildAttrsStr:function(){if(!this.attrs)return"";var a=this.getAttrs(),b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(c+'="'+a[c]+'"');return b.join(" ")}}),a.AnchorTagBuilder=a.Util.extend(Object,{constructor:function(b){a.Util.assign(this,b)},build:function(b){var c=new a.HtmlTag({tagName:"a",attrs:this.createAttrs(b.getType(),b.getAnchorHref()),innerHtml:this.processAnchorText(b.getAnchorText())});return c},createAttrs:function(a,b){var c={href:b},d=this.createCssClass(a);return d&&(c["class"]=d),this.newWindow&&(c.target="_blank"),c},createCssClass:function(a){var b=this.className;return b?b+" "+b+"-"+a:""},processAnchorText:function(a){return a=this.doTruncate(a)},doTruncate:function(b){return a.Util.ellipsis(b,this.truncate||Number.POSITIVE_INFINITY)}}),a.htmlParser.HtmlParser=a.Util.extend(Object,{htmlRegex:function(){var a=/!--([\s\S]+?)--/,b=/[0-9a-zA-Z][0-9a-zA-Z:]*/,c=/[^\s\0"'>\/=\x01-\x1F\x7F]+/,d=/(?:"[^"]*?"|'[^']*?'|[^'"=<>`\s]+)/,e=c.source+"(?:\\s*=\\s*"+d.source+")?";return new RegExp(["(?:","<(!DOCTYPE)","(?:","\\s+","(?:",e,"|",d.source+")",")*",">",")","|","(?:","<(/)?","(?:",a.source,"|","(?:","("+b.source+")","(?:","\\s+",e,")*","\\s*/?",")",")",">",")"].join(""),"gi")}(),htmlCharacterEntitiesRegex:/(&nbsp;|&#160;|&lt;|&#60;|&gt;|&#62;|&quot;|&#34;|&#39;)/gi,parse:function(a){for(var b,c,d=this.htmlRegex,e=0,f=[];null!==(b=d.exec(a));){var g=b[0],h=b[3],i=b[1]||b[4],j=!!b[2],k=a.substring(e,b.index);k&&(c=this.parseTextAndEntityNodes(k),f.push.apply(f,c)),h?f.push(this.createCommentNode(g,h)):f.push(this.createElementNode(g,i,j)),e=b.index+g.length}if(e<a.length){var l=a.substring(e);l&&(c=this.parseTextAndEntityNodes(l),f.push.apply(f,c))}return f},parseTextAndEntityNodes:function(b){for(var c=[],d=a.Util.splitAndCapture(b,this.htmlCharacterEntitiesRegex),e=0,f=d.length;f>e;e+=2){var g=d[e],h=d[e+1];g&&c.push(this.createTextNode(g)),h&&c.push(this.createEntityNode(h))}return c},createCommentNode:function(b,c){return new a.htmlParser.CommentNode({text:b,comment:a.Util.trim(c)})},createElementNode:function(b,c,d){return new a.htmlParser.ElementNode({text:b,tagName:c.toLowerCase(),closing:d})},createEntityNode:function(b){return new a.htmlParser.EntityNode({text:b})},createTextNode:function(b){return new a.htmlParser.TextNode({text:b})}}),a.htmlParser.HtmlNode=a.Util.extend(Object,{text:"",constructor:function(b){a.Util.assign(this,b)},getType:a.Util.abstractMethod,getText:function(){return this.text}}),a.htmlParser.CommentNode=a.Util.extend(a.htmlParser.HtmlNode,{comment:"",getType:function(){return"comment"},getComment:function(){return this.comment}}),a.htmlParser.ElementNode=a.Util.extend(a.htmlParser.HtmlNode,{tagName:"",closing:!1,getType:function(){return"element"},getTagName:function(){return this.tagName},isClosing:function(){return this.closing}}),a.htmlParser.EntityNode=a.Util.extend(a.htmlParser.HtmlNode,{getType:function(){return"entity"}}),a.htmlParser.TextNode=a.Util.extend(a.htmlParser.HtmlNode,{getType:function(){return"text"}}),a.matchParser.MatchParser=a.Util.extend(Object,{urls:!0,email:!0,twitter:!0,phone:!0,hashtag:!1,stripPrefix:!0,matcherRegex:function(){var a=/(^|[^\w])@(\w{1,15})/,b=/(^|[^\w])#(\w{1,139})/,c=/(?:[\-;:&=\+\$,\w\.]+@)/,d=/(?:\+?\d{1,3}[-\s.])?\(?\d{3}\)?[-\s.]?\d{3}[-\s.]\d{4}/,e=/(?:[A-Za-z][-.+A-Za-z0-9]+:(?![A-Za-z][-.+A-Za-z0-9]+:\/\/)(?!\d+\/?)(?:\/\/)?)/,f=/(?:www\.)/,g=/[A-Za-z0-9\.\-]*[A-Za-z0-9\-]/,h=/\.(?:international|construction|contractors|enterprises|photography|productions|foundation|immobilien|industries|management|properties|technology|christmas|community|directory|education|equipment|institute|marketing|solutions|vacations|bargains|boutique|builders|catering|cleaning|clothing|computer|democrat|diamonds|graphics|holdings|lighting|partners|plumbing|supplies|training|ventures|academy|careers|company|cruises|domains|exposed|flights|florist|gallery|guitars|holiday|kitchen|neustar|okinawa|recipes|rentals|reviews|shiksha|singles|support|systems|agency|berlin|camera|center|coffee|condos|dating|estate|events|expert|futbol|kaufen|luxury|maison|monash|museum|nagoya|photos|repair|report|social|supply|tattoo|tienda|travel|viajes|villas|vision|voting|voyage|actor|build|cards|cheap|codes|dance|email|glass|house|mango|ninja|parts|photo|shoes|solar|today|tokyo|tools|watch|works|aero|arpa|asia|best|bike|blue|buzz|camp|club|cool|coop|farm|fish|gift|guru|info|jobs|kiwi|kred|land|limo|link|menu|mobi|moda|name|pics|pink|post|qpon|rich|ruhr|sexy|tips|vote|voto|wang|wien|wiki|zone|bar|bid|biz|cab|cat|ceo|com|edu|gov|int|kim|mil|net|onl|org|pro|pub|red|tel|uno|wed|xxx|xyz|ac|ad|ae|af|ag|ai|al|am|an|ao|aq|ar|as|at|au|aw|ax|az|ba|bb|bd|be|bf|bg|bh|bi|bj|bm|bn|bo|br|bs|bt|bv|bw|by|bz|ca|cc|cd|cf|cg|ch|ci|ck|cl|cm|cn|co|cr|cu|cv|cw|cx|cy|cz|de|dj|dk|dm|do|dz|ec|ee|eg|er|es|et|eu|fi|fj|fk|fm|fo|fr|ga|gb|gd|ge|gf|gg|gh|gi|gl|gm|gn|gp|gq|gr|gs|gt|gu|gw|gy|hk|hm|hn|hr|ht|hu|id|ie|il|im|in|io|iq|ir|is|it|je|jm|jo|jp|ke|kg|kh|ki|km|kn|kp|kr|kw|ky|kz|la|lb|lc|li|lk|lr|ls|lt|lu|lv|ly|ma|mc|md|me|mg|mh|mk|ml|mm|mn|mo|mp|mq|mr|ms|mt|mu|mv|mw|mx|my|mz|na|nc|ne|nf|ng|ni|nl|no|np|nr|nu|nz|om|pa|pe|pf|pg|ph|pk|pl|pm|pn|pr|ps|pt|pw|py|qa|re|ro|rs|ru|rw|sa|sb|sc|sd|se|sg|sh|si|sj|sk|sl|sm|sn|so|sr|st|su|sv|sx|sy|sz|tc|td|tf|tg|th|tj|tk|tl|tm|tn|to|tp|tr|tt|tv|tw|tz|ua|ug|uk|us|uy|uz|va|vc|ve|vg|vi|vn|vu|wf|ws|ye|yt|za|zm|zw)\b/,i=/[\-A-Za-z0-9+&@#\/%=~_()|'$*\[\]?!:,.;]*[\-A-Za-z0-9+&@#\/%=~_()|'$*\[\]]/;return new RegExp(["(",a.source,")","|","(",c.source,g.source,h.source,")","|","(","(?:","(",e.source,g.source,")","|","(?:","(.?//)?",f.source,g.source,")","|","(?:","(.?//)?",g.source,h.source,")",")","(?:"+i.source+")?",")","|","(",d.source,")","|","(",b.source,")"].join(""),"gi")}(),charBeforeProtocolRelMatchRegex:/^(.)?\/\//,constructor:function(b){a.Util.assign(this,b),this.matchValidator=new a.MatchValidator},replace:function(a,b,c){var d=this;return a.replace(this.matcherRegex,function(a,e,f,g,h,i,j,k,l,m,n,o,p){var q=d.processCandidateMatch(a,e,f,g,h,i,j,k,l,m,n,o,p);if(q){var r=b.call(c,q.match);return q.prefixStr+r+q.suffixStr}return a})},processCandidateMatch:function(b,c,d,e,f,g,h,i,j,k,l,m,n){var o,p=i||j,q="",r="";if(g&&!this.urls||f&&!this.email||k&&!this.phone||c&&!this.twitter||l&&!this.hashtag||!this.matchValidator.isValidMatch(g,h,p))return null;if(this.matchHasUnbalancedClosingParen(b))b=b.substr(0,b.length-1),r=")";else{var s=this.matchHasInvalidCharAfterTld(g,h);s>-1&&(r=b.substr(s),b=b.substr(0,s))}if(f)o=new a.match.Email({matchedText:b,email:f});else if(c)d&&(q=d,b=b.slice(1)),o=new a.match.Twitter({matchedText:b,twitterHandle:e});else if(k){var t=b.replace(/\D/g,"");o=new a.match.Phone({matchedText:b,number:t})}else if(l)m&&(q=m,b=b.slice(1)),o=new a.match.Hashtag({matchedText:b,serviceName:this.hashtag,hashtag:n});else{if(p){var u=p.match(this.charBeforeProtocolRelMatchRegex)[1]||"";u&&(q=u,b=b.slice(1))}o=new a.match.Url({matchedText:b,url:b,protocolUrlMatch:!!h,protocolRelativeMatch:!!p,stripPrefix:this.stripPrefix})}return{prefixStr:q,suffixStr:r,match:o}},matchHasUnbalancedClosingParen:function(a){var b=a.charAt(a.length-1);if(")"===b){var c=a.match(/\(/g),d=a.match(/\)/g),e=c&&c.length||0,f=d&&d.length||0;if(f>e)return!0}return!1},matchHasInvalidCharAfterTld:function(a,b){if(!a)return-1;var c=0;b&&(c=a.indexOf(":"),a=a.slice(c));var d=/^((.?\/\/)?[A-Za-z0-9\.\-]*[A-Za-z0-9\-]\.[A-Za-z]+)/,e=d.exec(a);return null===e?-1:(c+=e[1].length,a=a.slice(e[1].length),/^[^.A-Za-z:\/?#]/.test(a)?c:-1)}}),a.MatchValidator=a.Util.extend(Object,{invalidProtocolRelMatchRegex:/^[\w]\/\//,hasFullProtocolRegex:/^[A-Za-z][-.+A-Za-z0-9]+:\/\//,uriSchemeRegex:/^[A-Za-z][-.+A-Za-z0-9]+:/,hasWordCharAfterProtocolRegex:/:[^\s]*?[A-Za-z]/,isValidMatch:function(a,b,c){return b&&!this.isValidUriScheme(b)||this.urlMatchDoesNotHaveProtocolOrDot(a,b)||this.urlMatchDoesNotHaveAtLeastOneWordChar(a,b)||this.isInvalidProtocolRelativeMatch(c)?!1:!0},isValidUriScheme:function(a){var b=a.match(this.uriSchemeRegex)[0].toLowerCase();return"javascript:"!==b&&"vbscript:"!==b},urlMatchDoesNotHaveProtocolOrDot:function(a,b){return!(!a||b&&this.hasFullProtocolRegex.test(b)||-1!==a.indexOf("."))},urlMatchDoesNotHaveAtLeastOneWordChar:function(a,b){return a&&b?!this.hasWordCharAfterProtocolRegex.test(a):!1},isInvalidProtocolRelativeMatch:function(a){return!!a&&this.invalidProtocolRelMatchRegex.test(a)}}),a.match.Match=a.Util.extend(Object,{constructor:function(b){a.Util.assign(this,b)},getType:a.Util.abstractMethod,getMatchedText:function(){return this.matchedText},getAnchorHref:a.Util.abstractMethod,getAnchorText:a.Util.abstractMethod}),a.match.Email=a.Util.extend(a.match.Match,{getType:function(){return"email"},getEmail:function(){return this.email},getAnchorHref:function(){return"mailto:"+this.email},getAnchorText:function(){return this.email}}),a.match.Hashtag=a.Util.extend(a.match.Match,{getType:function(){return"hashtag"},getHashtag:function(){return this.hashtag},getAnchorHref:function(){var a=this.serviceName,b=this.hashtag;switch(a){case"twitter":return"https://twitter.com/hashtag/"+b;case"facebook":return"https://www.facebook.com/hashtag/"+b;default:throw new Error("Unknown service name to point hashtag to: ",a)}},getAnchorText:function(){return"#"+this.hashtag}}),a.match.Phone=a.Util.extend(a.match.Match,{getType:function(){return"phone"},getNumber:function(){return this.number},getAnchorHref:function(){return"tel:"+this.number},getAnchorText:function(){return this.matchedText}}),a.match.Twitter=a.Util.extend(a.match.Match,{getType:function(){return"twitter"},getTwitterHandle:function(){return this.twitterHandle},getAnchorHref:function(){return"https://twitter.com/"+this.twitterHandle},getAnchorText:function(){return"@"+this.twitterHandle}}),a.match.Url=a.Util.extend(a.match.Match,{urlPrefixRegex:/^(https?:\/\/)?(www\.)?/i,protocolRelativeRegex:/^\/\//,protocolPrepended:!1,getType:function(){return"url"},getUrl:function(){var a=this.url;return this.protocolRelativeMatch||this.protocolUrlMatch||this.protocolPrepended||(a=this.url="http://"+a,this.protocolPrepended=!0),a},getAnchorHref:function(){var a=this.getUrl();return a.replace(/&amp;/g,"&")},getAnchorText:function(){var a=this.getUrl();return this.protocolRelativeMatch&&(a=this.stripProtocolRelativePrefix(a)),this.stripPrefix&&(a=this.stripUrlPrefix(a)),a=this.removeTrailingSlash(a)},stripUrlPrefix:function(a){return a.replace(this.urlPrefixRegex,"")},stripProtocolRelativePrefix:function(a){return a.replace(this.protocolRelativeRegex,"")},removeTrailingSlash:function(a){return"/"===a.charAt(a.length-1)&&(a=a.slice(0,-1)),a}}),a}),define("services/FriendlyFormattingService",["require","exports","autolinker","modules/WebFormsModule","angular"],function(a,b,c,d){var e=function(){function a(a){this.smiles={},this.smilesString="",this.smilesBase=a.smilesBase,this.autoLinker=new c,this.autoLinker.newWindow=!1,this.autoLinker.truncate=30;for(var b=0;b<a.smiles.length;b++){var d=a.smiles[b];this.smiles[d.code]=d.id,this.smilesString.length>0&&(this.smilesString+="|");for(var e=0;e<d.code.length;e++){switch(d.code[e]){case"(":case")":case"[":case"]":case"-":case"?":case"|":this.smilesString+="\\"}this.smilesString+=d.code[e]}}this.smilesString.length>0?this.smilesExpression=new RegExp(this.smilesString,"g"):this.smilesExpression=null}return a.prototype.getSmilesExpression=function(){return this.smilesExpression},a.prototype.getSmileUrl=function(a){return a.length&&this.smilesBase?'<img alt="'+a+'" src="'+this.smilesBase+this.smiles[a]+'" title="'+a+'" />':""},a.prototype.smilesToImg=function(a){return null!=this.smilesExpression&&(a=a.replace(/([^<>]*)(<[^<>]*>)/gi,function(a,b,c){return b&&0!=b.length?(b=b.replace(this.smilesExpression,this.getSmileUrl),c?b+c:b):a})),a},a.prototype.getFriendlyHtml=function(a){return null==a||0==a.length?a:(a=this.smilesToImg(a),this.autoLinker.link(a))},a}();return d.service("friendlyFormatting",["webFormsConfiguration",e]),e}),define("views/webForm",[],function(){return'<md-dialog ng-form="form" aria-label="{{title}}" flex="80"><md-toolbar><div class="md-toolbar-tools"><h2>{{title}}</h2></div></md-toolbar><md-content layout-padding="layout-padding" layout="column"><style>md-input-container.inputfield-file label {    flex: none;    -webkit-flex: none;    transform: none !important;}</style><div ng-repeat="field in fields | orderBy: \'position\'"><input-field field="field" object="object" form="form" ng-if="fieldVisible(field) &amp;&amp; !field.isGroup"></input-field><div ng-if="field.isGroup" layout="row" layout-sm="column"><input-field ng-repeat="child in field.children" field="child" object="object" form="form" ng-if="fieldVisible(child)" flex=""></input-field></div></div><div ng-if="submitWithCaptcha" captcha="recaptchaPublicKey"></div><div ng-if="submitError.length &gt; 0" class="bg-danger dialog-notification"><span class="glyphicon glyphicon-exclamation-sign"></span><span ng-bind="submitError"></span></div><div ng-if="submitSuccess.length &gt; 0" class="bg-success dialog-notification"><span class="glyphicon glyphicon-ok-circle"></span><span ng-bind="submitSuccess"></span></div></md-content><div class="md-actions"><md-button ng-click="submit(form)" aria-label="OK" class="md-raised md-primary"><span>{{ \'OK\' | translate }}</span><md-progress-circular ng-show="isApplying" md-mode="indeterminate" md-diameter="10"></md-progress-circular></md-button><md-button ng-click="cancel()" ng-disabled="isApplying" class="md-raised">{{ \'Cancel\' | translate }}</md-button></div></md-dialog>'}),define("views/webFormQuestion",[],function(){return'<div class="modal-header"><h3 class="modal-title">{{title}}</h3></div><div class="modal-body"><p>{{message}}</p></div><div class="modal-footer"><div ng-if="submitError.length &gt; 0" class="bg-danger dialog-notification"><span class="glyphicon glyphicon-exclamation-sign"></span><span ng-bind="submitError"></span></div><md-button ng-click="submit()" class="md-raised"><span>{{ \'Main.ButtonYes\' | translate }}</span><md-progress-circular ng-show="isApplying" md-mode="indeterminate"></md-progress-circular></md-button><md-button ng-click="cancel()" class="md-raised md-warn">{{ \'Main.ButtonNo\' | translate }}</md-button></div>'}),define("views/webFormMessage",[],function(){return'<md-dialog aria-label="{{title}}" class="input-form"><md-dialog-content><md-subheader>{{title}}</md-subheader></md-dialog-content><md-content><p>{{message}}</p></md-content><div class="md-actions"><md-button ng-click="close()" class="md-primary">{{ \'Main.ButtonOk\' | translate }}</md-button></div></md-dialog>'}),define("services/WebFormsService",["require","exports","views/webForm","views/webFormQuestion","views/webFormMessage","datatypes/InputFieldTypes","angular"],function(a,b,c,d,e,f){var g=function(){function b(a,b,c,d){this.httpService=a,this.qService=b,this.cache=c("lm-webforms"),this.dialogService=d}return b.prototype.newObject=function(a,b,c){return void 0===b&&(b=null),void 0===c&&(c=null),this.getTemplateAndExecute(a,b,!0,c)},b.prototype.editObject=function(a,b,c){return void 0===c&&(c=null),this.getTemplateAndExecute(a,b,!1,c)},b.prototype.question=function(a,b,c){void 0===c&&(c=null);var e=this.qService.defer();return this.dialogService.show({template:d,locals:{message:a,title:b,defer:e,resolver:c},controller:"inputFormQuestion"})["catch"](function(){e.reject()}),e.promise},b.prototype.message=function(a,b){void 0===b&&(b=null);var c=this.qService.defer();return this.dialogService.show({template:e,locals:{message:a,title:b,defer:c},controller:"inputFormMessage"}),c.promise},b.prototype.getTemplateAndExecute=function(a,b,c,d){var e=this;void 0===d&&(d=null);var f=this.qService.defer();return this.httpService.get(a+".json",{cache:this.cache}).then(function(a){e.executeWithDefinitionLoaded(b,a.data,c,f,d)},function(a){return f.reject(a)}),f.promise},b.fillRichTextModules=function(a){a.push("../directives/CkEditorDirective");
},b.fillCodeTextModules=function(a){a.push("../directives/CodeMirrorDirective")},b.prototype.executeWithDefinitionLoaded=function(c,d,e,g,h){var i=this,j=!1,k=!1,l=!1;_.forOwn(d.fields,function(a,b){a.property=b});var m=[];_.forEach(d.fields,function(a){switch(a.type){case f.DYNAMIC_FIELD_LIST:l=!0;break;case f.RICH_TEXT:j||(j=!0,b.fillRichTextModules(m));break;case f.CODE_TEXT:k||(k=!0,b.fillCodeTextModules(m))}}),l&&null==c&&g.reject("Cannot edit uninitialized object"),m.length>0?a(m,function(){i.executeWithDefinitionAndModulesLoaded(c,d,e,g,h)}):this.executeWithDefinitionAndModulesLoaded(c,d,e,g,h)},b.prototype.executeWithDefinitionAndModulesLoaded=function(a,b,d,e,f){void 0===f&&(f=null),this.dialogService.show({template:c,locals:{object:a,definition:b,defer:e,resolver:f,isNew:d},controller:"inputForm"})["catch"](function(){e.reject("Cancelled")})},b}();return g}),define("datatypes/WebFormsConfiguration",["require","exports"],function(a,b){var c=function(){function a(){this.codeMirrorModules=[],this.smilesBase=null,this.smiles=[],this.maximumFileSize=0,this.requiredErrorMessage="This field is mandatory",this.notEqualErrorMessage="Fields are not equal",this.maxLengthErrorMessage="This field has to be less than {0} characters long",this.minLengthErrorMessage="This field has to be greater than {0} characters long",this.emailErrorMessage="Wrong e-mail address",this.dateErrorMessage="Wrong date",this.timeErrorMessage="Wrong time",this.numberErrorMessage="Wrong number",this.patternErrorMessage="The field doesn't match the pattern specified",this.urlErrorMessage="Wrong URL",this.passwordErrorMessage="Wrong password",this.chooseFileMessage="Choose File",this.clearFileMessage="Clear"}return a}();return c}),define("services/WebFormsServiceProvider",["require","exports","modules/WebFormsModule","services/WebFormsService","datatypes/WebFormsConfiguration","angular"],function(a,b,c,d,e){var f=new e;c.value("webFormsConfiguration",f);var g=function(){function a(){this.$get=["$http","$q","$cacheFactory","$mdDialog",function(a,b,c,e){return new d(a,b,c,e)}]}return a}();c.provider("webForms",[g])}),define("views/inputFields/checkBox",[],function(){return'<md-checkbox name="{{field.property}}" ng-model="object[field.property]" ng-disabled="readOnly(field)">{{field.title | translate}}</md-checkbox>'}),define("views/inputFields/codeText",[],function(){return'<style>.CodeMirror {    line-height: normal;    height: 200px;}.CodeMirrorInput {    border-width: 1px !important;    border-style: solid;    border-radius: 3px;}.md-input-focused .CodeMirrorInput {    border-width: 2px !important;}md-input-container:not(.md-input-focused):not(.md-input-has-value) .CodeMirrorLabel {    padding-left: 40px;}</style><label class="CodeMirrorLabel">{{field.title | translate}}</label><link href="../../bower_components/codemirror/lib/codemirror.css" rel="stylesheet" type="text/css"/><ui-codemirror ng-model="object[field.property]" name="{{field.property}}" ng-required="field.required" readonly="readOnly(field)" options="{}"></ui-codemirror>'}),define("views/inputFields/date",[],function(){return'<label>{{field.title | translate}}</label><input type="date" name="{{field.property}}" ng-model="object[field.property]" ng-readonly="readonly(field)" ng-required="field.required"/>'}),define("views/inputFields/email",[],function(){return'<label>{{field.title | translate}}</label><input type="email" name="{{field.property}}" ng-model="object[field.property]" ng-readonly="readOnly(field)" ng-required="field.required" ng-minlength="field.minLength" ng-maxlength="field.maxLength"/>'}),define("views/inputFields/file",[],function(){return'<label>{{field.title | translate}}</label><style>md-input-container file-read.md-input {    border-width: 0;}md-input-container file-read.md-input.ng-invalid.ng-dirty {    border-width: 2px;    border-style: solid;}md-input-container.md-input-focused file-read.md-input {    border-width: 2px;    border-style: solid;}</style><file-read ng-model="object[field.property]" style="height: auto" ng-required="field.required" name="{{field.property}}" class="md-input"></file-read>'}),define("views/inputFields/fileList",[],function(){return'<label>{{field.title | translate}}</label><div multi-file-read="object[field.property]"></div>'}),define("views/inputFields/image",[],function(){return'<label>{{field.title | translate}}</label><div><div><input ng-if="!readOnly(field)" type="file" fileread="object[field.property]"/></div><div style="margin-top: 1em;"><img ng-if="object[field.property] != null" ng-src="/Image/Thumbnail/{{object[field.property]}}"/></div></div>'}),define("views/inputFields/label",[],function(){return'<label>{{field.title | translate}}</label><span ng-bind="object[field.property]"></span>'}),define("views/inputFields/multilineText",[],function(){return'<label>{{field.title | translate}}</label><textarea ng-model="object[field.property]" ng-readonly="readOnly(field)"></textarea>'}),define("views/inputFields/multiSelect",[],function(){return'<label>{{field.title | translate}}</label><select ng-model="object[field.property]" multiple="multiple" ng-options="item.value as item.text for item in field.selectValues"></select>'}),define("views/inputFields/number",[],function(){return'<label>{{field.title | translate}}</label><input type="number" ng-model="object[field.property]" ng-readonly="readOnly(field)" ng-required="required"/>'}),define("views/inputFields/password",[],function(){return'<label>{{field.title | translate}}</label><input type="password" name="{{field.property}}" ng-model="object[field.property]" ng-readonly="readOnly(field)" ng-required="field.required" ng-minlength="field.minLength" ng-maxlength="field.maxLength"/>'}),define("views/inputFields/passwordRepeat",[],function(){return'<label>{{field.title | translate}}</label><input type="password" name="{{field.property}}" ng-model="object[field.property]" ng-readonly="readOnly(field)" ng-required="field.required" ng-minlength="field.minLength" ng-maxlength="field.maxLength" validate-equals="" reference="{{object[field.reference]}}"/>'}),define("views/inputFields/richText",[],function(){return'<label>{{field.title | translate}}</label><style>md-input-container ck-editor.md-input {    border-width: 0;}md-input-container ck-editor.md-input.ng-invalid.ng-dirty {    border-width: 2px;    border-style: solid;}md-input-container.md-input-focused ck-editor.md-input {    border-width: 2px;    border-style: solid;}</style><ck-editor ng-if="!readOnly(field)" ng-model="object[field.property]" options="{}" readonly="false" ng-required="field.required" name="{{field.property}}" class="md-input"></ck-editor><div ng-if="readOnly(field)" ng-bind-html="object[field.property]"></div>'}),define("views/inputFields/select",[],function(){return'<label>{{field.title | translate}}</label><select ng-model="object[field.property]" class="form-control"><option ng-repeat="select in field.selectValues" value="{{select.value}}" ng-bind="select.text" ng-selected="fieldValueSelected(model, field, select)"></option></select>'}),define("views/inputFields/text",[],function(){return'<label>{{field.title | translate}}</label><input type="text" name="{{field.property}}" ng-model="object[field.property]" ng-readonly="readOnly(field)" ng-required="field.required" ng-minlength="field.minLength" ng-maxlength="field.maxLength"/>'}),define("views/inputFields/typeahead",[],function(){return'<label>{{field.title | translate}}</label><input type="text" ng-model="object[field.property]" ng-readonly="readOnly(field)" typeahead="name for name in getTypeahead(field, $viewValue)"/>'}),define("lm-webforms",["require","exports","angular","controllers/DialogController","controllers/InputFormController","controllers/InputFormMessageController","controllers/InputFormQuestionController","directives/CkEditorDirective","directives/CodeMirrorDirective","directives/DialogDirective","directives/FileReadDirective","directives/InputFieldDirective","directives/InputFieldErrorDirective","directives/MultiFileReadDirective","directives/ValidateEqualsDirective","services/FriendlyFormattingService","services/WebFormsServiceProvider","views/inputFields/checkBox","views/inputFields/codeText","views/inputFields/date","views/inputFields/email","views/inputFields/file","views/inputFields/fileList","views/inputFields/image","views/inputFields/label","views/inputFields/multilineText","views/inputFields/multiSelect","views/inputFields/number","views/inputFields/password","views/inputFields/passwordRepeat","views/inputFields/richText","views/inputFields/select","views/inputFields/text","views/inputFields/typeahead"],function(a,b){});